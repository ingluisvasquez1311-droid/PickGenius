module.exports = [
"[project]/web/app/icon.png.mjs { IMAGE => \"[project]/web/app/icon.png (static in ecmascript, tag client)\" } [app-rsc] (structured image object, ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/web/app/icon.png.mjs { IMAGE => \"[project]/web/app/icon.png (static in ecmascript, tag client)\" } [app-rsc] (structured image object, ecmascript)"));
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[project]/web/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/web/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[project]/web/app/error.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/web/app/error.tsx [app-rsc] (ecmascript)"));
}),
"[project]/web/app/not-found.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/web/app/not-found.tsx [app-rsc] (ecmascript)"));
}),
"[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/web/components/sports/MatchLiveView.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/web/components/sports/MatchLiveView.tsx <module evaluation>", "default");
}),
"[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/web/components/sports/MatchLiveView.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/web/components/sports/MatchLiveView.tsx", "default");
}),
"[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$components$2f$sports$2f$MatchLiveView$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$components$2f$sports$2f$MatchLiveView$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$web$2f$components$2f$sports$2f$MatchLiveView$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/web/lib/api.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "API_URL",
    ()=>API_URL,
    "fetchAPI",
    ()=>fetchAPI
]);
// ConfiguraciÃ³n centralizada de la API
const isServer = ("TURBOPACK compile-time value", "undefined") === 'undefined';
const DEFAULT_BASE_URL = ("TURBOPACK compile-time truthy", 1) ? process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : 'http://localhost:3000' : "TURBOPACK unreachable";
const API_URL = process.env.NEXT_PUBLIC_API_BASE_URL || DEFAULT_BASE_URL;
async function fetchAPI(endpoint, options, retries = 3, backoff = 1000) {
    // Ensure endpoint starts with / if it's not an absolute URL
    const isAbsolute = endpoint.startsWith('http');
    let url = endpoint;
    if (!isAbsolute) {
        // En el servidor, necesitamos URLs absolutas. En el cliente, las relativas funcionan (pero las absolutas tambiÃ©n).
        const baseUrl = API_URL.replace(/\/$/, '');
        const cleanEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;
        url = `${baseUrl}${cleanEndpoint}`;
    }
    console.log(`ðŸ” [API] Fetching: ${url} (Retries left: ${retries})`);
    try {
        const response = await fetch(url, {
            ...options,
            headers: {
                'Content-Type': 'application/json',
                'ngrok-skip-browser-warning': 'true',
                'bypass-tunnel-reminder': 'true',
                ...options?.headers
            }
        });
        // Handle Rate Limiting (429) or Service Unavailable (503)
        if ((response.status === 429 || response.status === 503) && retries > 0) {
            const waitTime = backoff * (4 - retries); // Exponential backoff: 1s, 2s, 3s
            console.warn(`âš ï¸ [API] HTTP ${response.status} detected. Retrying in ${waitTime}ms...`);
            await new Promise((resolve)=>setTimeout(resolve, waitTime));
            return fetchAPI(endpoint, options, retries - 1, backoff);
        }
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        const data = await response.json();
        return data;
    } catch (error) {
        if (retries > 0) {
            console.warn(`âš ï¸ [API] Fetch error, retrying (${retries} left):`, error);
            await new Promise((resolve)=>setTimeout(resolve, backoff));
            return fetchAPI(endpoint, options, retries - 1, backoff);
        }
        console.error('âŒ [API] Final error fetching:', url, error);
        throw error;
    }
}
}),
"[project]/web/lib/services/sportsDataService.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "sportsDataService",
    ()=>sportsDataService
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/lib/api.ts [app-rsc] (ecmascript)");
// Determinar la URL base dependiendo del entorno (Servidor vs Cliente)
// Si estamos en el servidor, usamos la API directa.
// Si estamos en el cliente, usamos nuestro Proxy para evitar CORS.
// La URL del Bridge (Tu IP casera) es obligatoria para NO ser bloqueados
const BRIDGE_URL = ("TURBOPACK compile-time value", "http://localhost:3001") || 'http://localhost:3001';
const BASE_URL = ("TURBOPACK compile-time truthy", 1) ? `${BRIDGE_URL}/api/proxy/sportsdata` // En el servidor, USAMOS EL PUENTE (Tu IP) siempre
 : "TURBOPACK unreachable"; // En el cliente, usamos el proxy local del navegador
;
/**
 * Servicio para obtener datos deportivos
 */ class SportsDataService {
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36'
    };
    /**
     * Generic method to make requests
     * Using fetchAPI for centralized URL and error handling
     */ async makeRequest(endpoint) {
        try {
            const cleanEndpoint = endpoint.startsWith("/") ? endpoint : `/${endpoint}`;
            const proxyEndpoint = `/api/proxy/sportsdata${cleanEndpoint}`;
            return await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])(proxyEndpoint, {
                headers: this.headers
            });
        } catch (error) {
            // Silence 404s as they are often expected (e.g., no momentum or no lineups for small leagues)
            const errorMsg = error.message || '';
            const is404 = errorMsg.includes('404') || error.status === 404 || error.response?.status === 404;
            if (!is404) {
                console.error(`âŒ [SportsDataService] Request failed for ${endpoint}:`, errorMsg);
            } else {
            // console.warn(`[SportsDataService] Data not found (404) for ${endpoint} - This is often expected.`);
            }
            return null;
        }
    }
    /**
     * Obtiene partidos de fÃºtbol en vivo
     */ /**
     * Obtiene partidos de fÃºtbol en vivo
     */ async getLiveFootballMatches() {
        try {
            // 1. Prioridad: Sofascore DIRECTO (vÃ­a Bridge) para inmediatez absoluta
            const data = await this.makeRequest('/sport/football/events/live');
            if (data?.events && data.events.length > 0) return data.events;
        } catch (e) {
            console.warn("âš ï¸ Fallback to Firebase for Live Football");
        }
        // 2. Fallback: Firebase (VÃ­a nuestra API interna)
        const res = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])('/api/football/live', {
            headers: this.headers
        });
        return res?.events || [];
    }
    /**
     * Obtiene partidos de fÃºtbol programados para una fecha
     */ async getScheduledFootballMatches(date) {
        return this.getScheduledEventsBySport('football', date);
    }
    /**
     * Obtiene eventos programados de forma filtrada (Backend Local)
     */ async getScheduledEventsBySport(sport, date) {
        const today = date || new Date().toISOString().split('T')[0];
        try {
            // 1. Prioridad: Sofascore DIRECTO (vÃ­a Bridge) - Lo que Daniel ve en su PC
            const ssData = await this.makeRequest(`/sport/${sport}/scheduled-events/${today}`);
            if (ssData?.events && ssData.events.length > 0) {
                return ssData.events;
            }
        } catch (e) {
            console.warn(`âš ï¸ SofaScore Direct failed for ${sport}, checking Firebase...`);
        }
        try {
            // 2. Fallback: Nuestra API de Firebase
            const queryParams = date ? `?date=${date}` : '';
            const endpoint = `/api/${sport}/scheduled${queryParams}`;
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])(endpoint, {
                headers: this.headers
            });
            return result.events || result.data || [];
        } catch (error) {
            console.error(`âŒ [SportsDataService] Error total fetching scheduled ${sport}:`, error);
            return [];
        }
    }
    /**
     * Obtiene todos los partidos de fÃºtbol (en vivo + programados)
     */ async getAllFootballMatches(date) {
        const today = date || new Date().toISOString().split('T')[0];
        const [liveMatches, scheduledMatches] = await Promise.all([
            this.getLiveFootballMatches(),
            this.getScheduledFootballMatches(today)
        ]);
        const allMatches = [
            ...liveMatches || [],
            ...scheduledMatches || []
        ];
        return allMatches.filter((match, index, self)=>index === self.findIndex((m)=>m.id === match.id));
    }
    /**
     * Obtiene partidos de baloncesto en vivo
     */ async getLiveBasketballGames() {
        try {
            // 1. Prioridad: Sofascore DIRECTO
            const data = await this.makeRequest('/sport/basketball/events/live');
            if (data?.events && data.events.length > 0) return data.events;
        } catch (e) {
            console.warn("âš ï¸ Fallback to Firebase for Live Basketball");
        }
        // 2. Fallback: Firebase
        const res = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])('/api/basketball/live', {
            headers: this.headers
        });
        return res?.events || [];
    }
    /**
     * Obtiene partidos de baloncesto programados para una fecha
     */ async getScheduledBasketballGames(date) {
        return this.getScheduledEventsBySport('basketball', date);
    }
    /**
     * Obtiene todos los partidos de baloncesto (en vivo + programados)
     */ async getAllBasketballGames(date) {
        const today = date || new Date().toISOString().split('T')[0];
        const [liveGames, scheduledGames] = await Promise.all([
            this.getLiveBasketballGames(),
            this.getScheduledBasketballGames(today)
        ]);
        const allGames = [
            ...liveGames || [],
            ...scheduledGames || []
        ];
        return allGames.filter((game, index, self)=>index === self.findIndex((g)=>g.id === game.id));
    }
    /**
     * Filtra partidos de baloncesto por liga
     */ filterBasketballByLeague(games, league) {
        return games.filter((game)=>{
            const tournamentName = game.tournament.name.toLowerCase();
            const uniqueTournamentName = game.tournament.uniqueTournament?.name.toLowerCase() || '';
            if (league === 'NBA') {
                return tournamentName.includes('nba') || uniqueTournamentName.includes('nba');
            } else {
                return tournamentName.includes('euroleague') || uniqueTournamentName.includes('euroleague');
            }
        });
    }
    /**
     * Obtiene un evento especÃ­fico por ID
     */ async getEventById(eventId) {
        try {
            // 1. PRIORIDAD ABSOLUTA: Sofascore DIRECTO (vÃ­a Bridge)
            // Esto garantiza que Momentum, EstadÃ­sticas y Alineaciones estÃ©n disponibles AL INSTANTE
            const ssData = await this.makeRequest(`/event/${eventId}`);
            if (ssData && ssData.event) {
                const event = ssData.event;
                // 2. ENRIQUECIMIENTO ASÃNCRONO: Intentar obtener cuotas/predicciones de Firebase
                try {
                    const firebaseRes = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])(`/api/events/${eventId}`);
                    if (firebaseRes && firebaseRes.event) {
                        // Combinamos: Datos base de Sofascore + Lo que tengamos en nuestra DB (cuotas, verificaciones)
                        return {
                            ...event,
                            ...firebaseRes.event,
                            // Mantenemos los scores de Sofascore como fuente de verdad en vivo
                            homeScore: event.homeScore,
                            awayScore: event.awayScore,
                            status: event.status,
                            // Indicador de que fue enriquecido
                            isEnriched: true
                        };
                    }
                } catch (e) {
                // Si falla Firebase, devolvemos el evento puro de Sofascore sin problemas
                }
                return event;
            }
        } catch (error) {
            console.error(`âŒ [SportsDataService] Error getting event ${eventId} from Bridge:`, error);
        }
        // 3. FALLBACK: Si el bridge falla o el evento no existe en Sofascore, intentar solo Firebase
        try {
            const firebaseRes = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$api$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["fetchAPI"])(`/api/events/${eventId}`);
            return firebaseRes?.event || null;
        } catch (e) {
            return null;
        }
    }
    /**
     * Obtiene estadÃ­sticas detalladas de un evento
     */ async getMatchBestPlayers(eventId) {
        try {
            const data = await this.makeRequest(`/event/${eventId}/best-players`);
            // If data is valid and has expected structure, return it
            if (data && (data.bestPlayers || data.allPlayers)) {
                return data;
            }
            // Fallback: Try to derive best players from lineups/statistics
            // console.log(`ðŸ” [SportsData] No direct 'best-players' for ${eventId}, using lineups fallback...`);
            const lineups = await this.getMatchLineups(eventId);
            if (lineups && lineups.home && lineups.away) {
                const mapPlayers = (players = [])=>players.filter((p)=>p.statistics && (p.statistics.rating > 0 || p.statistics.points > 0)).sort((a, b)=>(b.statistics.rating || 0) - (a.statistics.rating || 0));
                const homePlayers = [
                    ...lineups.home.players || [],
                    ...lineups.home.bench || []
                ];
                const awayPlayers = [
                    ...lineups.away.players || [],
                    ...lineups.away.bench || []
                ];
                const processed = {
                    allPlayers: {
                        home: mapPlayers(homePlayers),
                        away: mapPlayers(awayPlayers)
                    },
                    bestPlayers: {
                        home: mapPlayers(homePlayers).slice(0, 3),
                        away: mapPlayers(awayPlayers).slice(0, 3)
                    },
                    source: 'lineups_derived'
                };
                return processed;
            }
            return {
                allPlayers: {
                    home: [],
                    away: []
                },
                bestPlayers: {
                    home: [],
                    away: []
                }
            };
        } catch (error) {
            console.error(`âŒ [SportsData] Error getting best players for ${eventId}:`, error);
            return {
                allPlayers: {
                    home: [],
                    away: []
                },
                bestPlayers: {
                    home: [],
                    away: []
                }
            };
        }
    }
    async getMatchMomentum(eventId) {
        return await this.makeRequest(`/event/${eventId}/attack-momentum`);
    }
    /**
     * Obtiene estadÃ­sticas generales del partido (posesiÃ³n, tiros, etc.)
     */ async getMatchStatistics(eventId) {
        return await this.makeRequest(`/event/${eventId}/statistics`);
    }
    /**
     * Obtiene cuotas reales de mercado (Bet365, etc.) para el partido
     */ async getMatchOdds(eventId, marketId = 1) {
        try {
            const data = await this.makeRequest(`/event/${eventId}/odds/${marketId}/all`);
            // The makeRequest already handles errors and returns null for failed requests.
            // We just need to check if the data is null or empty, which might indicate a 404 or no data.
            if (!data || Object.keys(data).length === 0) {
                console.warn(`[SportsData] Odds not available (or empty response) for event ${eventId}, market ${marketId}`);
                return null;
            }
            return data;
        } catch (error) {
            console.error(`[SportsData] Error fetching odds for ${eventId}:`, error);
            return null;
        }
    }
    /**
     * Intenta extraer la lÃ­nea principal de Over/Under (Totales) de un evento
     */ async getMatchTotalLine(eventId, sport) {
        try {
            const odds = await this.getMatchOdds(eventId);
            if (!odds || !odds.markets) return null;
            // Diferentes nombres de mercado segÃºn el deporte
            const marketKeywords = sport === 'football' ? [
                'total goals',
                'over/under'
            ] : [
                'total points',
                'over/under',
                'total'
            ];
            const market = odds.markets.find((m)=>marketKeywords.some((key)=>m.marketName.toLowerCase().includes(key)));
            if (market && market.choices && market.choices.length > 0) {
                const choice = market.choices[0];
                const lineMatch = choice.name.match(/(\d+\.?\d*)/);
                if (lineMatch) {
                    return {
                        line: parseFloat(lineMatch[1]),
                        provider: 'Betplay'
                    };
                }
            }
            return null;
        } catch (error) {
            console.error(`Error al extraer lÃ­nea total para ${eventId}:`, error);
            return null;
        }
    }
    /**
     * Obtiene alineaciones y estadÃ­sticas de jugadores del partido
     */ async getMatchLineups(eventId) {
        return await this.makeRequest(`/event/${eventId}/lineups`);
    }
    /**
     * Obtiene los jugadores de un equipo (plantilla)
     */ async getTeamPlayers(teamId) {
        return await this.makeRequest(`/team/${teamId}/players`);
    }
    /**
     * Obtiene los Ãºltimos partidos de un equipo
     */ async getTeamLastResults(teamId, sport = 'football') {
        const data = await this.makeRequest(`/team/${teamId}/events/last/0`);
        return data?.events || [];
    }
    /**
     * Obtiene el historial de enfrentamientos directos (H2H)
     */ async getMatchH2H(eventId) {
        return await this.makeRequest(`/event/${eventId}/h2h`);
    }
    /**
     * Obtiene estadÃ­sticas detalladas de un jugador en un partido especÃ­fico
     */ async getPlayerEventStatistics(playerId, eventId) {
        return await this.makeRequest(`/event/${eventId}/player/${playerId}/statistics`);
    }
    /**
     * Obtiene los Ãºltimos eventos de un jugador
     */ async getPlayerLastEvents(playerId) {
        return await this.makeRequest(`/player/${playerId}/events/last/0`);
    }
    /**
     * Obtiene estadÃ­sticas de un jugador para una temporada
     */ async getPlayerSeasonStats(playerId, tournamentId, seasonId) {
        try {
            // Priority 1: Regular Season (Most common for NBA/leagues)
            const regularRes = await this.makeRequest(`/player/${playerId}/unique-tournament/${tournamentId}/season/${seasonId}/statistics/regularSeason`);
            if (regularRes && regularRes.statistics) return regularRes;
        } catch (e) {
        // Ignore 404s on regularSeason
        }
        try {
            // Priority 2: Overall (Fallback)
            const overallRes = await this.makeRequest(`/player/${playerId}/unique-tournament/${tournamentId}/season/${seasonId}/statistics/overall`);
            if (overallRes && overallRes.statistics) return overallRes;
        } catch (e) {
            console.warn(`[SportsData] No season stats found for player ${playerId}`);
        }
        return {
            statistics: {}
        };
    }
    /**
     * Obtiene eventos para un deporte especÃ­fico (en vivo + programados)
     * FILTERS OUT finished matches older than 2 hours
     * FILTERS OUT upcoming matches starting more than 12 hours from now
     */ async getEventsBySport(sport, date) {
        const today = date || new Date().toISOString().split('T')[0];
        const tomorrow = new Date(new Date(today).getTime() + 86400000).toISOString().split('T')[0];
        // 1. Obtener datos REAL-TIME directamente de Sofascore (vÃ­a Bridge)
        const [liveFromBridge, scheduledToday, scheduledTomorrow] = await Promise.all([
            this.makeRequest(`/sport/${sport}/events/live`).catch(()=>null),
            this.getScheduledEventsBySport(sport, today),
            this.getScheduledEventsBySport(sport, tomorrow)
        ]);
        const liveEvents = liveFromBridge?.events || [];
        const liveIds = new Set(liveEvents.map((e)=>e.id));
        // Filter out matches that are already LIVE from the scheduled lists
        const cleanToday = (Array.isArray(scheduledToday) ? scheduledToday : []).filter((e)=>!liveIds.has(e.id));
        const cleanTomorrow = (Array.isArray(scheduledTomorrow) ? scheduledTomorrow : []).filter((e)=>!liveIds.has(e.id));
        const allEvents = [
            ...liveEvents,
            ...cleanToday,
            ...cleanTomorrow
        ];
        // Final deduplication (just in case there's overlap between today and tomorrow or live)
        const uniqueEvents = allEvents.filter((event, index, self)=>index === self.findIndex((e)=>e.id === event.id));
        // Filter out old finished matches (older than 12 hours) AND future matches (more than 24 hours away)
        const now = Date.now() / 1000;
        const twelveHoursAgo = now - 12 * 60 * 60;
        const twentyFourHoursFromNow = now + 24 * 60 * 60;
        const recentEvents = uniqueEvents.filter((event)=>{
            if (event.status?.type === 'finished') {
                return event.startTimestamp > twelveHoursAgo;
            }
            if (event.status?.type === 'notstarted' || event.status?.type === 'scheduled') {
                return event.startTimestamp <= twentyFourHoursFromNow;
            }
            return true;
        });
        console.log(`ðŸ“Š [${sport.toUpperCase()}] Filtered ${uniqueEvents.length} events â†’ ${recentEvents.length} (deduplicated and windowed)`);
        return recentEvents;
    }
}
const sportsDataService = new SportsDataService();
}),
"[project]/web/app/match/[sport]/[eventId]/page.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>UniversalMatchPage,
    "generateMetadata",
    ()=>generateMetadata
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$components$2f$sports$2f$MatchLiveView$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/components/sports/MatchLiveView.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$services$2f$sportsDataService$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/web/lib/services/sportsDataService.ts [app-rsc] (ecmascript)");
;
;
;
async function generateMetadata({ params }) {
    const { sport, eventId } = await params;
    try {
        // Fetch basic event info for SEO
        const response = await __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$lib$2f$services$2f$sportsDataService$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["sportsDataService"].makeRequest(`/event/${eventId}`);
        const event = response?.event;
        if (event) {
            const home = event.homeTeam?.name || 'Home';
            const away = event.awayTeam?.name || 'Away';
            const tournament = event.tournament?.name || 'Sports';
            return {
                title: `${home} vs ${away} - PredicciÃ³n y EstadÃ­sticas | PickGenius`,
                description: `AnÃ¡lisis en vivo, probabilidades de IA y estadÃ­sticas detalladas para el partido ${home} vs ${away} en ${tournament}.`,
                openGraph: {
                    title: `${home} vs ${away} - AnÃ¡lisis PickGenius`,
                    description: `Mira la predicciÃ³n de la IA y stats en vivo.`,
                    images: [
                        '/og-image.jpg'
                    ] // We could eventually generate dynamic OGs too
                }
            };
        }
    } catch (e) {
        console.error('Error generating metadata for match:', e);
    }
    return {
        title: 'AnÃ¡lisis de Partido | PickGenius',
        description: 'Detalles del evento deportivo y predicciones de IA.'
    };
}
async function UniversalMatchPage({ params }) {
    const { sport, eventId } = await params;
    // Map sport names if necessary (normalize to internal IDs)
    const s = sport.toLowerCase();
    const mappedSport = s === 'nba' ? 'basketball' : s === 'mlb' ? 'baseball' : s === 'nhl' ? 'ice-hockey' : s === 'nfl' ? 'american-football' : s === 'hockey' ? 'ice-hockey' : sport;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$web$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$web$2f$components$2f$sports$2f$MatchLiveView$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        sport: mappedSport,
        eventId: eventId
    }, void 0, false, {
        fileName: "[project]/web/app/match/[sport]/[eventId]/page.tsx",
        lineNumber: 60,
        columnNumber: 12
    }, this);
}
}),
"[project]/web/app/match/[sport]/[eventId]/page.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/web/app/match/[sport]/[eventId]/page.tsx [app-rsc] (ecmascript)"));
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__40d01f1e._.js.map