{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/lib/services/googleProfileSync.ts"],"sourcesContent":["import { User } from 'firebase/auth';\r\nimport { updateUserProfile } from '../userService';\r\n\r\n/**\r\n * Sincroniza el perfil de usuario con los datos de Google\r\n * @param firebaseUser - Usuario de Firebase Auth\r\n */\r\nexport async function syncGoogleProfile(firebaseUser: User): Promise<void> {\r\n    const uid = firebaseUser.uid;\r\n    const displayName = firebaseUser.displayName;\r\n    const photoURL = firebaseUser.photoURL;\r\n    const email = firebaseUser.email;\r\n\r\n    console.log('ðŸ”„ [Google Sync] Iniciando sincronizaciÃ³n de perfil...');\r\n    console.log('ðŸ‘¤ [Google Sync] Display Name:', displayName);\r\n    console.log('ðŸ–¼ï¸ [Google Sync] Photo URL:', photoURL ? 'SÃ­' : 'No');\r\n\r\n    try {\r\n        // Actualizar perfil en Firestore con datos de Google\r\n        const updates: any = {};\r\n\r\n        if (displayName) {\r\n            updates.displayName = displayName;\r\n        }\r\n\r\n        if (photoURL) {\r\n            updates.photoURL = photoURL;\r\n        }\r\n\r\n        // Bio automÃ¡tica si no existe\r\n        if (displayName) {\r\n            updates.bio = `Usuario autenticado con Google - ${displayName}`;\r\n        }\r\n\r\n        // Solo actualizar si hay cambios\r\n        if (Object.keys(updates).length > 0) {\r\n            await updateUserProfile(uid, updates);\r\n            console.log('âœ… [Google Sync] Perfil sincronizado correctamente:', updates);\r\n        } else {\r\n            console.log('â„¹ï¸ [Google Sync] No hay datos nuevos para sincronizar');\r\n        }\r\n    } catch (error) {\r\n        console.error('âŒ [Google Sync] Error al sincronizar perfil:', error);\r\n        // No hacer throw para no interrumpir el flujo de login\r\n    }\r\n}\r\n\r\n/**\r\n * Verifica si un usuario se autenticÃ³ con Google\r\n * @param firebaseUser - Usuario de Firebase Auth\r\n */\r\nexport function isGoogleUser(firebaseUser: User): boolean {\r\n    return firebaseUser.providerData.some(\r\n        provider => provider.providerId === 'google.com'\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AACA;;AAMO,eAAe,kBAAkB,YAAkB;IACtD,MAAM,MAAM,aAAa,GAAG;IAC5B,MAAM,cAAc,aAAa,WAAW;IAC5C,MAAM,WAAW,aAAa,QAAQ;IACtC,MAAM,QAAQ,aAAa,KAAK;IAEhC,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC,kCAAkC;IAC9C,QAAQ,GAAG,CAAC,gCAAgC,WAAW,OAAO;IAE9D,IAAI;QACA,qDAAqD;QACrD,MAAM,UAAe,CAAC;QAEtB,IAAI,aAAa;YACb,QAAQ,WAAW,GAAG;QAC1B;QAEA,IAAI,UAAU;YACV,QAAQ,QAAQ,GAAG;QACvB;QAEA,8BAA8B;QAC9B,IAAI,aAAa;YACb,QAAQ,GAAG,GAAG,CAAC,iCAAiC,EAAE,aAAa;QACnE;QAEA,iCAAiC;QACjC,IAAI,OAAO,IAAI,CAAC,SAAS,MAAM,GAAG,GAAG;YACjC,MAAM,IAAA,8IAAiB,EAAC,KAAK;YAC7B,QAAQ,GAAG,CAAC,sDAAsD;QACtE,OAAO;YACH,QAAQ,GAAG,CAAC;QAChB;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gDAAgD;IAC9D,uDAAuD;IAC3D;AACJ;AAMO,SAAS,aAAa,YAAkB;IAC3C,OAAO,aAAa,YAAY,CAAC,IAAI,CACjC,CAAA,WAAY,SAAS,UAAU,KAAK;AAE5C"}}]
}