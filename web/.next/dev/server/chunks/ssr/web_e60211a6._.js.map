{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/lib/services/sportsDataService.ts"],"sourcesContent":["// Determinar la URL base dependiendo del entorno (Servidor vs Cliente)\r\n// Si estamos en el servidor, usamos la API directa.\r\n// Si estamos en el cliente, usamos nuestro Proxy para evitar CORS.\r\n// La URL del Bridge (Tu IP casera) es obligatoria para NO ser bloqueados\r\nconst BRIDGE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n\r\nconst BASE_URL = typeof window === 'undefined'\r\n    ? `${BRIDGE_URL}/api/proxy/sportsdata` // En el servidor, USAMOS EL PUENTE (Tu IP) siempre\r\n    : '/api/proxy/sportsdata'; // En el cliente, usamos el proxy local del navegador\r\n\r\nimport { logApiCall } from '@/lib/adminService';\r\nimport axios from 'axios';\r\nimport { fetchAPI } from '../api';\r\n\r\nexport interface SportsDataTeam {\r\n    id: number;\r\n    name: string;\r\n    shortName: string;\r\n    slug: string;\r\n    nameCode: string;\r\n    teamColors: {\r\n        primary: string;\r\n        secondary: string;\r\n        text: string;\r\n    };\r\n}\r\n\r\nexport interface SportsDataEvent {\r\n    id: number;\r\n    slug: string;\r\n    tournament: {\r\n        id: number;\r\n        name: string;\r\n        slug: string;\r\n        uniqueTournament?: {\r\n            id: number;\r\n            name: string;\r\n            primaryColorHex?: string;\r\n            secondaryColorHex?: string;\r\n        };\r\n        category: {\r\n            id: number;\r\n            name: string;\r\n            slug: string;\r\n            sport: {\r\n                id: number;\r\n                name: string;\r\n                slug: string;\r\n            };\r\n        };\r\n    };\r\n    season?: {\r\n        id: number;\r\n        name: string;\r\n        year: string;\r\n    };\r\n    homeTeam: SportsDataTeam;\r\n    awayTeam: SportsDataTeam;\r\n    homeScore: {\r\n        current: number;\r\n        display: number;\r\n        period1?: number;\r\n        period2?: number;\r\n        period3?: number;\r\n        period4?: number;\r\n        normaltime?: number;\r\n    };\r\n    awayScore: {\r\n        current: number;\r\n        display: number;\r\n        period1?: number;\r\n        period2?: number;\r\n        period3?: number;\r\n        period4?: number;\r\n        normaltime?: number;\r\n    };\r\n    status: {\r\n        code: number;\r\n        description: string;\r\n        type: 'notstarted' | 'inprogress' | 'finished' | 'scheduled' | 'canceled' | 'postponed';\r\n    };\r\n    lastPeriod?: string;\r\n    time?: {\r\n        currentPeriodStartTimestamp?: number;\r\n        initial?: number;\r\n        max?: number;\r\n        played?: number;\r\n        periodLength?: number;\r\n        overtimeLength?: number;\r\n    };\r\n    startTimestamp: number;\r\n    customId?: string;\r\n    roundInfo?: {\r\n        round: number;\r\n        name?: string;\r\n    };\r\n}\r\n\r\nexport interface SportsDataResponse {\r\n    events: SportsDataEvent[];\r\n}\r\n\r\n/**\r\n * Servicio para obtener datos deportivos\r\n */\r\nclass SportsDataService {\r\n    private headers = {\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',\r\n    };\r\n\r\n    /**\r\n     * Generic method to make requests\r\n     * Using fetchAPI for centralized URL and error handling\r\n     */\r\n    async makeRequest<T = any>(endpoint: string): Promise<T | null> {\r\n        try {\r\n            const cleanEndpoint = endpoint.startsWith(\"/\") ? endpoint : `/${endpoint}`;\r\n            const proxyEndpoint = `/api/proxy/sportsdata${cleanEndpoint}`;\r\n\r\n            return await fetchAPI(proxyEndpoint, {\r\n                headers: this.headers\r\n            });\r\n        } catch (error: any) {\r\n            // Silence 404s as they are often expected (e.g., no momentum or no lineups for small leagues)\r\n            const errorMsg = error.message || '';\r\n            const is404 = errorMsg.includes('404') || error.status === 404 || error.response?.status === 404;\r\n\r\n            if (!is404) {\r\n                console.error(`‚ùå [SportsDataService] Request failed for ${endpoint}:`, errorMsg);\r\n            } else {\r\n                // console.warn(`[SportsDataService] Data not found (404) for ${endpoint} - This is often expected.`);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtiene partidos de f√∫tbol en vivo\r\n     */\r\n    /**\r\n     * Obtiene partidos de f√∫tbol en vivo\r\n     */\r\n    async getLiveFootballMatches(): Promise<SportsDataEvent[]> {\r\n        try {\r\n            // 1. Prioridad: Sofascore DIRECTO (v√≠a Bridge) para inmediatez absoluta\r\n            const data = await this.makeRequest<SportsDataResponse>('/sport/football/events/live');\r\n            if (data?.events && data.events.length > 0) return data.events;\r\n        } catch (e) {\r\n            console.warn(\"‚ö†Ô∏è Fallback to Firebase for Live Football\");\r\n        }\r\n\r\n        // 2. Fallback: Firebase (V√≠a nuestra API interna)\r\n        const res = await fetchAPI('/api/football/live', { headers: this.headers });\r\n        return res?.events || [];\r\n    }\r\n\r\n    /**\r\n     * Obtiene partidos de f√∫tbol programados para una fecha\r\n     */\r\n    async getScheduledFootballMatches(date: string): Promise<SportsDataEvent[]> {\r\n        return this.getScheduledEventsBySport('football', date);\r\n    }\r\n\r\n    /**\r\n     * Obtiene eventos programados de forma filtrada (Backend Local)\r\n     */\r\n    async getScheduledEventsBySport(sport: string, date?: string): Promise<SportsDataEvent[]> {\r\n        const today = date || new Date().toISOString().split('T')[0];\r\n\r\n        try {\r\n            // 1. Prioridad: Sofascore DIRECTO (v√≠a Bridge) - Lo que Daniel ve en su PC\r\n            const ssData = await this.makeRequest<SportsDataResponse>(`/sport/${sport}/scheduled-events/${today}`);\r\n            if (ssData?.events && ssData.events.length > 0) {\r\n                return ssData.events;\r\n            }\r\n        } catch (e) {\r\n            console.warn(`‚ö†Ô∏è SofaScore Direct failed for ${sport}, checking Firebase...`);\r\n        }\r\n\r\n        try {\r\n            // 2. Fallback: Nuestra API de Firebase\r\n            const queryParams = date ? `?date=${date}` : '';\r\n            const endpoint = `/api/${sport}/scheduled${queryParams}`;\r\n\r\n            const result = await fetchAPI(endpoint, {\r\n                headers: this.headers\r\n            });\r\n\r\n            return result.events || result.data || [];\r\n        } catch (error) {\r\n            console.error(`‚ùå [SportsDataService] Error total fetching scheduled ${sport}:`, error);\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtiene todos los partidos de f√∫tbol (en vivo + programados)\r\n     */\r\n    async getAllFootballMatches(date?: string): Promise<SportsDataEvent[]> {\r\n        const today = date || new Date().toISOString().split('T')[0];\r\n        const [liveMatches, scheduledMatches] = await Promise.all([\r\n            this.getLiveFootballMatches(),\r\n            this.getScheduledFootballMatches(today)\r\n        ]);\r\n\r\n        const allMatches = [...(liveMatches || []), ...(scheduledMatches || [])];\r\n        return allMatches.filter((match, index, self) =>\r\n            index === self.findIndex(m => m.id === match.id)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Obtiene partidos de baloncesto en vivo\r\n     */\r\n    async getLiveBasketballGames(): Promise<SportsDataEvent[]> {\r\n        try {\r\n            // 1. Prioridad: Sofascore DIRECTO\r\n            const data = await this.makeRequest<SportsDataResponse>('/sport/basketball/events/live');\r\n            if (data?.events && data.events.length > 0) return data.events;\r\n        } catch (e) {\r\n            console.warn(\"‚ö†Ô∏è Fallback to Firebase for Live Basketball\");\r\n        }\r\n\r\n        // 2. Fallback: Firebase\r\n        const res = await fetchAPI('/api/basketball/live', { headers: this.headers });\r\n        return res?.events || [];\r\n    }\r\n\r\n    /**\r\n     * Obtiene partidos de baloncesto programados para una fecha\r\n     */\r\n    async getScheduledBasketballGames(date: string): Promise<SportsDataEvent[]> {\r\n        return this.getScheduledEventsBySport('basketball', date);\r\n    }\r\n\r\n    /**\r\n     * Obtiene todos los partidos de baloncesto (en vivo + programados)\r\n     */\r\n    async getAllBasketballGames(date?: string): Promise<SportsDataEvent[]> {\r\n        const today = date || new Date().toISOString().split('T')[0];\r\n        const [liveGames, scheduledGames] = await Promise.all([\r\n            this.getLiveBasketballGames(),\r\n            this.getScheduledBasketballGames(today)\r\n        ]);\r\n\r\n        const allGames = [...(liveGames || []), ...(scheduledGames || [])];\r\n        return allGames.filter((game, index, self) =>\r\n            index === self.findIndex(g => g.id === game.id)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Filtra partidos de baloncesto por liga\r\n     */\r\n    filterBasketballByLeague(games: SportsDataEvent[], league: 'NBA' | 'Euroleague'): SportsDataEvent[] {\r\n        return games.filter(game => {\r\n            const tournamentName = game.tournament.name.toLowerCase();\r\n            const uniqueTournamentName = game.tournament.uniqueTournament?.name.toLowerCase() || '';\r\n            if (league === 'NBA') {\r\n                return tournamentName.includes('nba') || uniqueTournamentName.includes('nba');\r\n            } else {\r\n                return tournamentName.includes('euroleague') || uniqueTournamentName.includes('euroleague');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Obtiene un evento espec√≠fico por ID\r\n     */\r\n    async getEventById(eventId: string | number): Promise<SportsDataEvent | null> {\r\n        try {\r\n            // 1. PRIORIDAD ABSOLUTA: Sofascore DIRECTO (v√≠a Bridge)\r\n            // Esto garantiza que Momentum, Estad√≠sticas y Alineaciones est√©n disponibles AL INSTANTE\r\n            const ssData = await this.makeRequest<{ event: SportsDataEvent }>(`/event/${eventId}`);\r\n\r\n            if (ssData && ssData.event) {\r\n                const event = ssData.event;\r\n\r\n                // 2. ENRIQUECIMIENTO AS√çNCRONO: Intentar obtener cuotas/predicciones de Firebase\r\n                try {\r\n                    const firebaseRes = await fetchAPI(`/api/events/${eventId}`);\r\n                    if (firebaseRes && firebaseRes.event) {\r\n                        // Combinamos: Datos base de Sofascore + Lo que tengamos en nuestra DB (cuotas, verificaciones)\r\n                        return {\r\n                            ...event,\r\n                            ...firebaseRes.event,\r\n                            // Mantenemos los scores de Sofascore como fuente de verdad en vivo\r\n                            homeScore: event.homeScore,\r\n                            awayScore: event.awayScore,\r\n                            status: event.status,\r\n                            // Indicador de que fue enriquecido\r\n                            isEnriched: true\r\n                        };\r\n                    }\r\n                } catch (e) {\r\n                    // Si falla Firebase, devolvemos el evento puro de Sofascore sin problemas\r\n                }\r\n\r\n                return event;\r\n            }\r\n        } catch (error) {\r\n            console.error(`‚ùå [SportsDataService] Error getting event ${eventId} from Bridge:`, error);\r\n        }\r\n\r\n        // 3. FALLBACK: Si el bridge falla o el evento no existe en Sofascore, intentar solo Firebase\r\n        try {\r\n            const firebaseRes = await fetchAPI(`/api/events/${eventId}`);\r\n            return firebaseRes?.event || null;\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtiene estad√≠sticas detalladas de un evento\r\n     */\r\n    async getMatchBestPlayers(eventId: number): Promise<any> {\r\n        try {\r\n            const data = await this.makeRequest(`/event/${eventId}/best-players`);\r\n\r\n            // If data is valid and has expected structure, return it\r\n            if (data && (data.bestPlayers || data.allPlayers)) {\r\n                return data;\r\n            }\r\n\r\n            // Fallback: Try to derive best players from lineups/statistics\r\n            // console.log(`üîç [SportsData] No direct 'best-players' for ${eventId}, using lineups fallback...`);\r\n            const lineups = await this.getMatchLineups(eventId);\r\n\r\n            if (lineups && lineups.home && lineups.away) {\r\n                const mapPlayers = (players: any[] = []) => players\r\n                    .filter(p => p.statistics && (p.statistics.rating > 0 || p.statistics.points > 0))\r\n                    .sort((a, b) => (b.statistics.rating || 0) - (a.statistics.rating || 0));\r\n\r\n                const homePlayers = [...(lineups.home.players || []), ...(lineups.home.bench || [])];\r\n                const awayPlayers = [...(lineups.away.players || []), ...(lineups.away.bench || [])];\r\n\r\n                const processed = {\r\n                    allPlayers: {\r\n                        home: mapPlayers(homePlayers),\r\n                        away: mapPlayers(awayPlayers)\r\n                    },\r\n                    bestPlayers: {\r\n                        home: mapPlayers(homePlayers).slice(0, 3),\r\n                        away: mapPlayers(awayPlayers).slice(0, 3)\r\n                    },\r\n                    source: 'lineups_derived'\r\n                };\r\n                return processed;\r\n            }\r\n\r\n            return { allPlayers: { home: [], away: [] }, bestPlayers: { home: [], away: [] } };\r\n        } catch (error) {\r\n            console.error(`‚ùå [SportsData] Error getting best players for ${eventId}:`, error);\r\n            return { allPlayers: { home: [], away: [] }, bestPlayers: { home: [], away: [] } };\r\n        }\r\n    }\r\n\r\n    async getMatchMomentum(eventId: number): Promise<any> {\r\n        return await this.makeRequest(`/event/${eventId}/attack-momentum`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene estad√≠sticas generales del partido (posesi√≥n, tiros, etc.)\r\n     */\r\n    async getMatchStatistics(eventId: number): Promise<any> {\r\n        return await this.makeRequest(`/event/${eventId}/statistics`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene cuotas reales de mercado (Bet365, etc.) para el partido\r\n     */\r\n    async getMatchOdds(eventId: number, marketId: number = 1): Promise<any> {\r\n        try {\r\n            const data = await this.makeRequest(`/event/${eventId}/odds/${marketId}/all`);\r\n            // The makeRequest already handles errors and returns null for failed requests.\r\n            // We just need to check if the data is null or empty, which might indicate a 404 or no data.\r\n            if (!data || Object.keys(data).length === 0) {\r\n                console.warn(`[SportsData] Odds not available (or empty response) for event ${eventId}, market ${marketId}`);\r\n                return null;\r\n            }\r\n            return data;\r\n        } catch (error) {\r\n            console.error(`[SportsData] Error fetching odds for ${eventId}:`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Intenta extraer la l√≠nea principal de Over/Under (Totales) de un evento\r\n     */\r\n    async getMatchTotalLine(eventId: number, sport: string): Promise<{ line: number; provider: string } | null> {\r\n        try {\r\n            const odds = await this.getMatchOdds(eventId);\r\n            if (!odds || !odds.markets) return null;\r\n\r\n            // Diferentes nombres de mercado seg√∫n el deporte\r\n            const marketKeywords = sport === 'football' ? ['total goals', 'over/under'] : ['total points', 'over/under', 'total'];\r\n\r\n            const market = odds.markets.find((m: any) =>\r\n                marketKeywords.some(key => m.marketName.toLowerCase().includes(key))\r\n            );\r\n\r\n            if (market && market.choices && market.choices.length > 0) {\r\n                const choice = market.choices[0];\r\n                const lineMatch = choice.name.match(/(\\d+\\.?\\d*)/);\r\n                if (lineMatch) {\r\n                    return {\r\n                        line: parseFloat(lineMatch[1]),\r\n                        provider: 'Betplay'\r\n                    };\r\n                }\r\n            }\r\n            return null;\r\n        } catch (error) {\r\n            console.error(`Error al extraer l√≠nea total para ${eventId}:`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Obtiene alineaciones y estad√≠sticas de jugadores del partido\r\n     */\r\n    async getMatchLineups(eventId: number): Promise<any> {\r\n        return await this.makeRequest(`/event/${eventId}/lineups`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene los jugadores de un equipo (plantilla)\r\n     */\r\n    async getTeamPlayers(teamId: number): Promise<any> {\r\n        return await this.makeRequest(`/team/${teamId}/players`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene los √∫ltimos partidos de un equipo\r\n     */\r\n    async getTeamLastResults(teamId: number, sport: string = 'football'): Promise<any[]> {\r\n        const data = await this.makeRequest(`/team/${teamId}/events/last/0`);\r\n        return data?.events || [];\r\n    }\r\n\r\n    /**\r\n     * Obtiene el historial de enfrentamientos directos (H2H)\r\n     */\r\n    async getMatchH2H(eventId: number): Promise<any> {\r\n        return await this.makeRequest(`/event/${eventId}/h2h`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene estad√≠sticas detalladas de un jugador en un partido espec√≠fico\r\n     */\r\n    async getPlayerEventStatistics(playerId: number, eventId: number): Promise<any> {\r\n        return await this.makeRequest(`/event/${eventId}/player/${playerId}/statistics`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene los √∫ltimos eventos de un jugador\r\n     */\r\n    async getPlayerLastEvents(playerId: number): Promise<any> {\r\n        return await this.makeRequest(`/player/${playerId}/events/last/0`);\r\n    }\r\n\r\n    /**\r\n     * Obtiene estad√≠sticas de un jugador para una temporada\r\n     */\r\n    async getPlayerSeasonStats(playerId: number, tournamentId: number, seasonId: number): Promise<any> {\r\n        try {\r\n            // Priority 1: Regular Season (Most common for NBA/leagues)\r\n            const regularRes = await this.makeRequest(`/player/${playerId}/unique-tournament/${tournamentId}/season/${seasonId}/statistics/regularSeason`);\r\n            if (regularRes && regularRes.statistics) return regularRes;\r\n        } catch (e) {\r\n            // Ignore 404s on regularSeason\r\n        }\r\n\r\n        try {\r\n            // Priority 2: Overall (Fallback)\r\n            const overallRes = await this.makeRequest(`/player/${playerId}/unique-tournament/${tournamentId}/season/${seasonId}/statistics/overall`);\r\n            if (overallRes && overallRes.statistics) return overallRes;\r\n        } catch (e) {\r\n            console.warn(`[SportsData] No season stats found for player ${playerId}`);\r\n        }\r\n\r\n        return { statistics: {} };\r\n    }\r\n\r\n    /**\r\n     * Obtiene eventos para un deporte espec√≠fico (en vivo + programados)\r\n     * FILTERS OUT finished matches older than 2 hours\r\n     * FILTERS OUT upcoming matches starting more than 12 hours from now\r\n     */\r\n    async getEventsBySport(sport: string, date?: string): Promise<SportsDataEvent[]> {\r\n        const today = date || new Date().toISOString().split('T')[0];\r\n        const tomorrow = new Date(new Date(today).getTime() + 86400000).toISOString().split('T')[0];\r\n\r\n        // 1. Obtener datos REAL-TIME directamente de Sofascore (v√≠a Bridge)\r\n        const [liveFromBridge, scheduledToday, scheduledTomorrow] = await Promise.all([\r\n            this.makeRequest<SportsDataResponse>(`/sport/${sport}/events/live`).catch(() => null),\r\n            this.getScheduledEventsBySport(sport, today),\r\n            this.getScheduledEventsBySport(sport, tomorrow)\r\n        ]);\r\n\r\n        const liveEvents = liveFromBridge?.events || [];\r\n        const liveIds = new Set(liveEvents.map((e: any) => e.id));\r\n\r\n        // Filter out matches that are already LIVE from the scheduled lists\r\n        const cleanToday = (Array.isArray(scheduledToday) ? scheduledToday : [])\r\n            .filter(e => !liveIds.has(e.id));\r\n\r\n        const cleanTomorrow = (Array.isArray(scheduledTomorrow) ? scheduledTomorrow : [])\r\n            .filter(e => !liveIds.has(e.id));\r\n\r\n        const allEvents = [\r\n            ...liveEvents,\r\n            ...cleanToday,\r\n            ...cleanTomorrow\r\n        ];\r\n\r\n        // Final deduplication (just in case there's overlap between today and tomorrow or live)\r\n        const uniqueEvents = allEvents.filter((event, index, self) =>\r\n            index === self.findIndex(e => e.id === event.id)\r\n        );\r\n\r\n        // Filter out old finished matches (older than 12 hours) AND future matches (more than 24 hours away)\r\n        const now = Date.now() / 1000;\r\n        const twelveHoursAgo = now - (12 * 60 * 60);\r\n        const twentyFourHoursFromNow = now + (24 * 60 * 60);\r\n\r\n        const recentEvents = uniqueEvents.filter((event) => {\r\n            if (event.status?.type === 'finished') {\r\n                return event.startTimestamp > twelveHoursAgo;\r\n            }\r\n\r\n            if (event.status?.type === 'notstarted' || event.status?.type === 'scheduled') {\r\n                return event.startTimestamp <= twentyFourHoursFromNow;\r\n            }\r\n\r\n            return true;\r\n        });\r\n\r\n        console.log(`üìä [${sport.toUpperCase()}] Filtered ${uniqueEvents.length} events ‚Üí ${recentEvents.length} (deduplicated and windowed)`);\r\n\r\n        return recentEvents;\r\n    }\r\n}\r\n\r\nexport const sportsDataService = new SportsDataService();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/hooks/useMatchData.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\r\nimport { sportsDataService } from '@/lib/services/sportsDataService';\r\n\r\n// Fetch basic match details\r\nasync function fetchMatchDetails(eventId: string) {\r\n    // sportsDataService handles the API call and proxying\r\n    const data = await sportsDataService.getEventById(eventId);\r\n    if (!data) {\r\n        throw new Error('Failed to fetch match details');\r\n    }\r\n    return data;\r\n}\r\n\r\n// Fetch best players / top performers\r\nasync function fetchBestPlayers(eventId: string) {\r\n    const data = await sportsDataService.getMatchBestPlayers(Number(eventId));\r\n    return data;\r\n}\r\n\r\nexport function useMatchDetails(sport: string, eventId: string) {\r\n    return useQuery({\r\n        queryKey: ['match', sport, eventId],\r\n        queryFn: () => fetchMatchDetails(eventId),\r\n        enabled: !!eventId,\r\n        // Refetch every 30 seconds for live games\r\n        refetchInterval: (query) => {\r\n            const status = query.state.data?.status?.type;\r\n            return status === 'inprogress' ? 30000 : false;\r\n        },\r\n        staleTime: 10000,\r\n    });\r\n}\r\n\r\nexport function useMatchBestPlayers(sport: string, eventId: string) {\r\n    return useQuery({\r\n        queryKey: ['match-players', sport, eventId],\r\n        queryFn: () => fetchBestPlayers(eventId),\r\n        enabled: !!eventId,\r\n        staleTime: 60000,\r\n    });\r\n}\r\n\r\nasync function fetchMatchStatistics(eventId: string) {\r\n    const data = await sportsDataService.getMatchStatistics(Number(eventId));\r\n    return data;\r\n}\r\n\r\nexport function useMatchStatistics(sport: string, eventId: string) {\r\n    return useQuery({\r\n        queryKey: ['match-stats', sport, eventId],\r\n        queryFn: () => fetchMatchStatistics(eventId),\r\n        enabled: !!eventId,\r\n        refetchInterval: (query) => {\r\n            const status = query.state.data?.status?.type;\r\n            return status === 'inprogress' ? 30000 : false;\r\n        },\r\n        staleTime: 20000,\r\n    });\r\n}\r\n\r\nasync function fetchMatchMomentum(eventId: string) {\r\n    const data = await sportsDataService.getMatchMomentum(Number(eventId));\r\n    // Check if valid momentum data exists\r\n    if (!data || !data.graph) {\r\n        // Return empty/null safely rather than throwing to avoid UI crashes\r\n        return null;\r\n    }\r\n    return data;\r\n}\r\n\r\nexport function useMatchMomentum(sport: string, eventId: string) {\r\n    return useQuery({\r\n        queryKey: ['match-momentum', sport, eventId],\r\n        queryFn: () => fetchMatchMomentum(eventId),\r\n        enabled: !!eventId,\r\n        refetchInterval: (query) => {\r\n            return 30000;\r\n        },\r\n        staleTime: 15000,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEA,4BAA4B;AAC5B,eAAe,kBAAkB,OAAe;IAC5C,sDAAsD;IACtD,MAAM,OAAO,MAAM,gKAAiB,CAAC,YAAY,CAAC;IAClD,IAAI,CAAC,MAAM;QACP,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;AAEA,sCAAsC;AACtC,eAAe,iBAAiB,OAAe;IAC3C,MAAM,OAAO,MAAM,gKAAiB,CAAC,mBAAmB,CAAC,OAAO;IAChE,OAAO;AACX;AAEO,SAAS,gBAAgB,KAAa,EAAE,OAAe;IAC1D,OAAO,IAAA,8LAAQ,EAAC;QACZ,UAAU;YAAC;YAAS;YAAO;SAAQ;QACnC,SAAS,IAAM,kBAAkB;QACjC,SAAS,CAAC,CAAC;QACX,0CAA0C;QAC1C,iBAAiB,CAAC;YACd,MAAM,SAAS,MAAM,KAAK,CAAC,IAAI,EAAE,QAAQ;YACzC,OAAO,WAAW,eAAe,QAAQ;QAC7C;QACA,WAAW;IACf;AACJ;AAEO,SAAS,oBAAoB,KAAa,EAAE,OAAe;IAC9D,OAAO,IAAA,8LAAQ,EAAC;QACZ,UAAU;YAAC;YAAiB;YAAO;SAAQ;QAC3C,SAAS,IAAM,iBAAiB;QAChC,SAAS,CAAC,CAAC;QACX,WAAW;IACf;AACJ;AAEA,eAAe,qBAAqB,OAAe;IAC/C,MAAM,OAAO,MAAM,gKAAiB,CAAC,kBAAkB,CAAC,OAAO;IAC/D,OAAO;AACX;AAEO,SAAS,mBAAmB,KAAa,EAAE,OAAe;IAC7D,OAAO,IAAA,8LAAQ,EAAC;QACZ,UAAU;YAAC;YAAe;YAAO;SAAQ;QACzC,SAAS,IAAM,qBAAqB;QACpC,SAAS,CAAC,CAAC;QACX,iBAAiB,CAAC;YACd,MAAM,SAAS,MAAM,KAAK,CAAC,IAAI,EAAE,QAAQ;YACzC,OAAO,WAAW,eAAe,QAAQ;QAC7C;QACA,WAAW;IACf;AACJ;AAEA,eAAe,mBAAmB,OAAe;IAC7C,MAAM,OAAO,MAAM,gKAAiB,CAAC,gBAAgB,CAAC,OAAO;IAC7D,sCAAsC;IACtC,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,EAAE;QACtB,oEAAoE;QACpE,OAAO;IACX;IACA,OAAO;AACX;AAEO,SAAS,iBAAiB,KAAa,EAAE,OAAe;IAC3D,OAAO,IAAA,8LAAQ,EAAC;QACZ,UAAU;YAAC;YAAkB;YAAO;SAAQ;QAC5C,SAAS,IAAM,mBAAmB;QAClC,SAAS,CAAC,CAAC;QACX,iBAAiB,CAAC;YACd,OAAO;QACX;QACA,WAAW;IACf;AACJ"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/ui/SkeletonLoader.tsx"],"sourcesContent":["export default function SkeletonLoader({ className }: { className?: string }) {\r\n    return (\r\n        <div className={`glass-card p-4 relative overflow-hidden bg-white/[0.02] border border-white/5 ${className}`}>\r\n            {/* Shimmer Effect */}\r\n            <div className=\"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/5 to-transparent\"></div>\r\n\r\n            <div className=\"flex justify-between items-center mb-4 relative z-10\">\r\n                <div className=\"h-3 bg-white/10 rounded-full w-24\"></div>\r\n                <div className=\"h-3 bg-white/10 rounded-full w-12\"></div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4 relative z-10\">\r\n                <div className=\"flex justify-between items-center bg-black/20 p-2 rounded-lg\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-white/10\"></div>\r\n                        <div className=\"h-4 bg-white/10 rounded w-32\"></div>\r\n                    </div>\r\n                    <div className=\"h-6 bg-white/10 rounded w-8\"></div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-between items-center bg-black/20 p-2 rounded-lg\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-white/10\"></div>\r\n                        <div className=\"h-4 bg-white/10 rounded w-32\"></div>\r\n                    </div>\r\n                    <div className=\"h-6 bg-white/10 rounded w-8\"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex justify-between items-center pt-3 border-t border-white/5 relative z-10\">\r\n                <div className=\"h-2 bg-white/10 rounded w-16\"></div>\r\n                <div className=\"h-2 bg-white/10 rounded w-16\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,eAAe,EAAE,SAAS,EAA0B;IACxE,qBACI,qPAAC;QAAI,WAAW,CAAC,8EAA8E,EAAE,WAAW;;0BAExG,qPAAC;gBAAI,WAAU;;;;;;0BAEf,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBAAI,WAAU;;;;;;kCACf,qPAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGnB,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAI,WAAU;;;;;;kDACf,qPAAC;wCAAI,WAAU;;;;;;;;;;;;0CAEnB,qPAAC;gCAAI,WAAU;;;;;;;;;;;;kCAGnB,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAI,WAAU;;;;;;kDACf,qPAAC;wCAAI,WAAU;;;;;;;;;;;;0CAEnB,qPAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAIvB,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBAAI,WAAU;;;;;;kCACf,qPAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAI/B"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/lib/predictionService.ts"],"sourcesContent":["/**\r\n * Prediction Service - AI-powered game predictions\r\n * Integrates with Gemini API for advanced analysis\r\n */\r\nimport { fetchAPI } from './api';\r\n\r\nexport interface PredictionRequest {\r\n    gameId: string;\r\n    homeTeam?: string;\r\n    awayTeam?: string;\r\n    date?: Date;\r\n    sport: string;\r\n    userId?: string;\r\n}\r\n\r\n\r\nexport interface PredictionResult {\r\n    winner: string;\r\n    confidence: number;\r\n    reasoning: string;\r\n    bettingTip: string;\r\n    predictions?: {\r\n        finalScore: string;\r\n        totalGoals: string;\r\n        corners: {\r\n            home: number;\r\n            away: number;\r\n            total: number;\r\n        };\r\n        shots: {\r\n            home: number;\r\n            away: number;\r\n            onTarget: string;\r\n        };\r\n        cards: {\r\n            yellowCards: number;\r\n            redCards: number;\r\n            details: string;\r\n        };\r\n        offsides: {\r\n            total: number;\r\n            details: string;\r\n        };\r\n    };\r\n    keyFactors?: string[];\r\n}\r\n\r\n\r\nexport async function generatePrediction(request: PredictionRequest): Promise<PredictionResult> {\r\n    try {\r\n        // Create an AbortController for timeout\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 90000); // 90 seconds\r\n\r\n        const data = await fetchAPI('/api/predictions', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                gameId: request.gameId,\r\n                sport: request.sport,\r\n                homeTeam: request.homeTeam,\r\n                awayTeam: request.awayTeam,\r\n                uid: request.userId // Pass user ID for tier check\r\n            }),\r\n            signal: controller.signal\r\n        });\r\n\r\n        // If API returns fallback/mock flag, USE IT if it has data\r\n        // We prefer the server-side mock because it's richer\r\n        if (data.isMock || data.isFallback) {\r\n            console.warn('Using server-side mock prediction');\r\n            return data;\r\n        }\r\n\r\n        return data;\r\n    } catch (error: any) {\r\n        console.error('Error generating prediction:', error);\r\n\r\n        // Check if it's a timeout error\r\n        if (error.name === 'AbortError') {\r\n            console.error('Prediction request timed out after 90 seconds');\r\n            throw new Error('El an√°lisis est√° tomando m√°s tiempo del esperado. Por favor, intenta de nuevo.');\r\n        }\r\n\r\n        // Return mock prediction as fallback\r\n        return generateMockPrediction(request);\r\n    }\r\n}\r\n\r\n/**\r\n * Generate mock prediction (for development/fallback)\r\n */\r\nfunction generateMockPrediction(request: PredictionRequest): PredictionResult {\r\n    const sportNames: { [key: string]: string } = {\r\n        'football': 'f√∫tbol',\r\n        'basketball': 'baloncesto',\r\n        'tennis': 'tenis',\r\n        'baseball': 'b√©isbol',\r\n        'hockey': 'hockey',\r\n        'american-football': 'f√∫tbol americano'\r\n    };\r\n\r\n    const isFootball = request.sport === 'football';\r\n    const sportDisplayName = sportNames[request.sport] || request.sport;\r\n    const homeName = request.homeTeam || 'Local';\r\n    const awayName = request.awayTeam || 'Visitante';\r\n\r\n    // Sport-specific picks\r\n    const picks = isFootball ? [\r\n        `${homeName} ML`,\r\n        `${awayName} ML`,\r\n        `${homeName} -1`,\r\n        `${awayName} +1`,\r\n        'Over 2.5 Goles',\r\n        'Under 2.5 Goles',\r\n        'Ambos Anotan (BTTS)'\r\n    ] : request.sport === 'basketball' ? [\r\n        `${homeName} ML`,\r\n        `${awayName} ML`,\r\n        `${homeName} -5.5`,\r\n        `${awayName} +5.5`,\r\n        'Over 215.5',\r\n        'Under 215.5'\r\n    ] : [\r\n        `${homeName} Ganador`,\r\n        `${awayName} Ganador`\r\n    ];\r\n\r\n    const randomPick = picks[Math.floor(Math.random() * picks.length)];\r\n    const confidence = Math.floor(Math.random() * 30) + 65; // 65-95%\r\n\r\n    const factors = isFootball ? [\r\n        'Ventaja de local fuerte',\r\n        'Racha de victorias consecutivas',\r\n        'Defensa s√≥lida en casa',\r\n        'Lesiones clave en el equipo contrario',\r\n        'Dominio en enfrentamientos directos recientes'\r\n    ] : [\r\n        'Eficiencia ofensiva superior',\r\n        'Dominio en la pintura/rebotes',\r\n        'Racha positiva de tiro exterior',\r\n        'Ventaja f√≠sica en emparejamientos clave',\r\n        'Historial favorable en la liga'\r\n    ];\r\n\r\n    const randomFactors = factors\r\n        .sort(() => Math.random() - 0.5)\r\n        .slice(0, 3);\r\n\r\n    // Dynamic Predictions object based on sport\r\n    const predictions: any = {};\r\n\r\n    if (isFootball) {\r\n        predictions.totalGoals = '2.5';\r\n        predictions.overUnder = { line: 2.5, pick: Math.random() > 0.5 ? 'M√°s de' : 'Menos de', confidence: 'Alta' };\r\n        predictions.corners = { total: 9.5, pick: 'M√°s de', line: 9.5 };\r\n        predictions.cards = { yellowCards: 4, redCards: 0, pick: 'Menos de', line: 4.5 };\r\n        predictions.bothTeamsScore = { pick: 'S√≠', confidence: 'Media' };\r\n    } else if (request.sport === 'basketball') {\r\n        const teamString = (request.homeTeam || '').toLowerCase() + (request.awayTeam || '').toLowerCase();\r\n        // Check for NBA teams or generic NBA label\r\n        const isNBA = teamString.includes('nba') ||\r\n            teamString.includes('celtics') || teamString.includes('lakers') ||\r\n            teamString.includes('warriors') || teamString.includes('bulls') ||\r\n            teamString.includes('knicks') || teamString.includes('pacers');\r\n\r\n        const defaultLine = isNBA ? '232.5' : '174.5';\r\n        predictions.totalPoints = defaultLine;\r\n        predictions.overUnder = { line: parseFloat(defaultLine), pick: 'M√°s de', confidence: 'Media' };\r\n        predictions.playerProps = {\r\n            threes: { player: \"Estrella Local\", line: 2.5, pick: \"M√°s de\" },\r\n            pra: { player: \"Estrella Visitante\", line: 30.5, pick: \"M√°s de\" }\r\n        };\r\n        predictions.quarterMarkets = {\r\n            raceTo20: { pick: homeName, confidence: \"Media\" }\r\n        };\r\n    } else if (request.sport === 'tennis') {\r\n        predictions.finalScore = '2-0';\r\n        predictions.totalGames = '21.5';\r\n        predictions.overUnder = { line: 21.5, pick: 'Menos de', confidence: 'Alta' };\r\n    } else if (request.sport === 'baseball') {\r\n        predictions.totalRuns = '8.5';\r\n        predictions.overUnder = { line: 8.5, pick: 'M√°s de', confidence: 'Media' };\r\n        predictions.runLine = { favorite: homeName, line: -1.5, recommendation: 'Cubrir' };\r\n    } else if (request.sport === 'hockey') {\r\n        predictions.totalGoals = '5.5';\r\n        predictions.overUnder = { line: 5.5, pick: 'M√°s de', confidence: 'Media' };\r\n        predictions.puckLine = { favorite: homeName, line: -1.5, recommendation: 'Cubrir' };\r\n    } else if (request.sport === 'american-football') {\r\n        predictions.totalPoints = '45.5';\r\n        predictions.overUnder = { line: 45.5, pick: 'M√°s de', confidence: 'Alta' };\r\n        predictions.touchdowns = { total: 4.5, pick: 'M√°s de', line: 4.5 };\r\n        predictions.yards = { total: 650, pick: 'M√°s de', line: 640.5 };\r\n    }\r\n\r\n    return {\r\n        winner: randomPick,\r\n        confidence,\r\n        reasoning: `Basado en el an√°lisis de datos hist√≥ricos y tendencias recientes de ${sportDisplayName}, ${randomPick} presenta una oportunidad s√≥lida. Los factores clave incluyen el rendimiento reciente del equipo y las estad√≠sticas de enfrentamientos directos.`,\r\n        bettingTip: `üßô‚Äç‚ôÇÔ∏è Pron√≥stico de ${sportDisplayName}: ${randomPick} con confianza ${confidence}%`,\r\n        keyFactors: randomFactors,\r\n        predictions\r\n    };\r\n}\r\n\r\n/**\r\n * Check if prediction is available (respects user limits)\r\n */\r\nexport async function checkPredictionAvailability(userId: string): Promise<{\r\n    available: boolean;\r\n    remaining: number;\r\n    message: string;\r\n}> {\r\n    // This would integrate with your user service\r\n    // For now, returning mock data\r\n    return {\r\n        available: true,\r\n        remaining: 2,\r\n        message: 'Tienes 2 predicciones restantes hoy'\r\n    };\r\n}\r\n\r\n/**\r\n * Save prediction to user history\r\n */\r\nexport async function savePredictionToHistory(\r\n    userId: string,\r\n    prediction: PredictionResult,\r\n    gameId: string\r\n): Promise<void> {\r\n    try {\r\n        await fetchAPI('/api/predictions/history', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                userId,\r\n                prediction,\r\n                gameId,\r\n                timestamp: new Date().toISOString()\r\n            })\r\n        });\r\n    } catch (error) {\r\n        console.error('Error saving prediction to history:', error);\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/ai/AIPredictionCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { toast } from 'sonner';\r\nimport { Zap, Shield, TrendingUp, Target, X, Star, Crown, Loader2, CheckCircle2, AlertTriangle, ArrowRight, Lock, Info, Sparkles, Brain, Plus, ShieldCheck } from 'lucide-react';\r\nimport confetti from 'canvas-confetti';\r\nimport { generatePrediction } from '@/lib/predictionService';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useBettingSlip } from '@/contexts/BettingSlipContext';\r\n\r\nimport { API_URL } from '@/lib/api';\r\n\r\ninterface AIPredictionCardProps {\r\n    eventId: string | number;\r\n    sport: string;\r\n    homeTeam?: string;\r\n    awayTeam?: string;\r\n}\r\n\r\nexport default function AIPredictionCard({ eventId, sport, homeTeam, awayTeam }: AIPredictionCardProps) {\r\n    const { user, notify, saveToHistory, addPlayerFavorite, removePlayerFavorite } = useAuth();\r\n    const { addToSlip } = useBettingSlip();\r\n    const [prediction, setPrediction] = useState<any>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const isPlayerFavorite = (playerName: string) => {\r\n        return user?.favoritePlayers?.some(p => p.name === playerName) || false;\r\n    };\r\n\r\n    const handleTogglePlayerFavorite = async (playerName: string) => {\r\n        if (!user) return;\r\n        if (isPlayerFavorite(playerName)) {\r\n            const playerToRemove = (user.favoritePlayers || []).find(p => p.name === playerName);\r\n            if (playerToRemove) await removePlayerFavorite(playerToRemove);\r\n        } else {\r\n            await addPlayerFavorite({\r\n                id: Math.random().toString(36).substring(2, 11),\r\n                name: playerName,\r\n                sport: sport\r\n            });\r\n        }\r\n    };\r\n\r\n    // Estimate odds based on AI confidence (rough approximation)\r\n    const estimateOdds = (confidence: number): number => {\r\n        const probability = confidence / 100;\r\n        return Number((1 / probability).toFixed(2));\r\n    };\r\n\r\n    const handlePredict = async () => {\r\n        let timeout1: NodeJS.Timeout | null = null;\r\n        let timeout2: NodeJS.Timeout | null = null;\r\n\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            const toastId = toast.loading('Consultando el Or√°culo de PickGenius...', {\r\n                description: 'Invocando estad√≠sticas hist√≥ricas y momentum...'\r\n            });\r\n\r\n            // Simulate steps for a more \"pro\" feeling\r\n            timeout1 = setTimeout(() => {\r\n                toast.loading('Analizando alineaciones y m√≠stica del campo...', { id: toastId });\r\n            }, 1000);\r\n\r\n            timeout2 = setTimeout(() => {\r\n                toast.loading('Calculando probabilidades con el Motor Genius...', { id: toastId });\r\n            }, 2500);\r\n\r\n            const result = await generatePrediction({\r\n                gameId: eventId.toString(),\r\n                sport: sport,\r\n                homeTeam,\r\n                awayTeam,\r\n                userId: user?.uid\r\n            });\r\n\r\n            // Limpiar timeouts para que no sobrescriban el √©xito\r\n            if (timeout1) clearTimeout(timeout1);\r\n            if (timeout2) clearTimeout(timeout2);\r\n\r\n            if (result) {\r\n                // @ts-ignore - Handle possible confidence mismatch\r\n                const confidenceVal = typeof result.confidence === 'number'\r\n                    ? result.confidence\r\n                    : parseInt(result.confidence || '0');\r\n\r\n                setPrediction(result);\r\n\r\n                // --- NEW: Universal History Archiving (Now including Guests) ---\r\n                try {\r\n                    // üî• AUTO-ARCHIVE: Now handled by the backend during generation\r\n                    // to avoid Permission Denied on Firestore client\r\n                    /*\r\n                    await saveToHistory({\r\n                        gameId: eventId.toString(),\r\n                        sport: sport,\r\n                        winner: result.winner,\r\n                        bettingTip: result.bettingTip,\r\n                        confidence: result.confidence,\r\n                        reasoning: result.reasoning,\r\n                        predictions: result.predictions,\r\n                        keyFactors: result.keyFactors,\r\n                        status: 'pending'\r\n                    });\r\n                    console.log('‚úÖ AI Oracle verdict archived');\r\n                    */\r\n                } catch (saveErr) {\r\n                    console.error('‚ùå Failed to archive prediction:', saveErr);\r\n                }\r\n\r\n                toast.success('¬°Revelaci√≥n Estrat√©gica Finalizada!', {\r\n                    id: toastId,\r\n                    description: `Veredicto: ${result.winner || 'Listo'} con ${confidenceVal}% de acierto.`,\r\n                    duration: 5000\r\n                });\r\n\r\n                // Notificar si la confianza es alta (>= 75)\r\n                if (confidenceVal >= 75) {\r\n                    await notify(\r\n                        'üèÜ PICK TOP DETECTADO',\r\n                        `Nueva predicci√≥n para ${sport}: ${result.winner || 'An√°lisis listo'} con ${confidenceVal}% de confianza.`,\r\n                        'success',\r\n                        `/match/${sport}/${eventId}`\r\n                    );\r\n\r\n                    confetti({\r\n                        particleCount: 150,\r\n                        spread: 80,\r\n                        origin: { y: 0.6 },\r\n                        colors: ['#a855f7', '#06b6d4', '#ffffff', '#fbbf24']\r\n                    });\r\n                }\r\n\r\n            } else {\r\n                setError('No se pudo generar la predicci√≥n');\r\n                toast.error('Fallo en la conexi√≥n m√≠stica', { id: toastId });\r\n            }\r\n        } catch (err: any) {\r\n            if (timeout1) clearTimeout(timeout1);\r\n            if (timeout2) clearTimeout(timeout2);\r\n            console.error(err);\r\n            setError(err.message || 'Error al generar predicci√≥n');\r\n            toast.error('Error cr√≠tico en el Motor Genius');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Derived values for premium access\r\n    const isPremiumOrAdmin = user?.isPremium || user?.role === 'admin';\r\n    const showMasked = prediction?.isMasked && !isPremiumOrAdmin;\r\n\r\n    return (\r\n        <div className=\"bg-gradient-to-r from-purple-900 to-indigo-900 rounded-xl p-6 shadow-2xl border border-purple-500/30 mt-8 relative overflow-hidden\">\r\n            {/* Background decoration */}\r\n            <div className=\"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-purple-500 rounded-full blur-3xl opacity-20\"></div>\r\n\r\n            <div className=\"relative z-10\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                    <div className=\"flex flex-col\">\r\n                        <h2 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                            <span className=\"text-3xl\">üßô</span> Or√°culo PickGenius\r\n                        </h2>\r\n                        {prediction?.sourceVerification && (\r\n                            <div className=\"flex items-center gap-1.5 mt-1\">\r\n                                <span className={`flex h-2 w-2 rounded-full animate-pulse ${prediction.sourceVerification.isVerified ? 'bg-green-500' : 'bg-blue-500'}`}></span>\r\n                                <span className={`text-[10px] font-black uppercase tracking-widest flex items-center gap-1 ${prediction.sourceVerification.isVerified ? 'text-green-400' : 'text-blue-400'}`}>\r\n                                    <ShieldCheck className=\"w-3 h-3\" />\r\n                                    {prediction.sourceVerification.isVerified ? 'Verificado Betplay Direct' : `An√°lisis en Base a: ${prediction.dataSource || 'Bridge de Datos'}`}\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {!prediction && (\r\n                        <button\r\n                            onClick={handlePredict}\r\n                            disabled={loading}\r\n                            className=\"px-6 py-2 bg-white text-purple-900 font-bold rounded-full hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n                        >\r\n                            {loading ? (\r\n                                <>\r\n                                    <div className=\"animate-spin h-4 w-4 border-2 border-purple-900 border-t-transparent rounded-full\"></div>\r\n                                    Analizando...\r\n                                </>\r\n                            ) : (\r\n                                'Generar Predicci√≥n'\r\n                            )}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-500/20 text-red-200 p-4 rounded-lg mb-4 border border-red-500/30\">\r\n                        <div className=\"flex items-start gap-3\">\r\n                            <span className=\"text-2xl\">‚ö†Ô∏è</span>\r\n                            <div className=\"flex-1\">\r\n                                <p className=\"font-bold text-sm mb-1\">Error en el An√°lisis</p>\r\n                                <p className=\"text-xs opacity-90\">{error}</p>\r\n                                <button\r\n                                    onClick={handlePredict}\r\n                                    className=\"mt-3 px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-xs font-bold rounded-lg transition-colors\"\r\n                                >\r\n                                    Reintentar An√°lisis\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {prediction && (\r\n                    <div className=\"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                        {/* PROMINENT WINNER BADGE */}\r\n                        <div className=\"relative bg-gradient-to-r from-yellow-500 to-amber-600 rounded-2xl p-6 text-center shadow-2xl shadow-yellow-500/30 border-2 border-yellow-400\">\r\n                            <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-white rounded-full p-3 shadow-lg\">\r\n                                <span className=\"text-4xl\">üèÜ</span>\r\n                            </div>\r\n                            <p className=\"text-black/70 text-xs uppercase font-bold mb-2 mt-2\">Veredicto del Genio</p>\r\n                            <div className=\"flex items-center justify-center gap-2 mb-1\">\r\n                                <p className=\"text-2xl md:text-3xl font-black text-black\">\r\n                                    {(!prediction.winner || prediction.winner.toLowerCase().includes('undefined')) ? 'Resultado Analizado' : prediction.winner}\r\n                                </p>\r\n                                {prediction.isValueBet && (\r\n                                    <span className=\"bg-black text-yellow-400 text-[10px] font-black px-2 py-0.5 rounded-full border border-yellow-400 animate-pulse\">\r\n                                        VALUE BET\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Betting Tip Area - Masked if needed */}\r\n                            <div className=\"mt-4 px-4 py-2 bg-black/10 rounded-xl border border-black/10\">\r\n                                <p className=\"text-[10px] text-black/50 uppercase font-black mb-1\">Pick Recomendado</p>\r\n                                <p className={`text-lg font-black text-black ${showMasked ? 'blur-sm select-none' : ''}`}>\r\n                                    {prediction.bettingTip || 'Analizando...'}\r\n                                </p>\r\n                                {showMasked && (\r\n                                    <button\r\n                                        className=\"mt-2 text-[10px] bg-black text-white px-3 py-1 rounded-full font-bold hover:bg-black/80 transition-all\"\r\n                                        onClick={() => window.location.href = '/pricing'}\r\n                                    >\r\n                                        ‚≠ê Desbloquear con Premium\r\n                                    </button>\r\n                                )}\r\n\r\n                                {/* Add to Ticket Button - Only for non-masked predictions */}\r\n                                {!showMasked && (\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            const confidence = typeof prediction.confidence === 'number'\r\n                                                ? prediction.confidence\r\n                                                : parseInt(prediction.confidence || '50');\r\n                                            const estimatedOdds = estimateOdds(confidence);\r\n\r\n                                            addToSlip({\r\n                                                matchId: eventId.toString(),\r\n                                                selection: prediction.winner || 'Resultado Analizado',\r\n                                                odds: estimatedOdds,\r\n                                                matchLabel: prediction.teamsLabel || `${sport.toUpperCase()} Match`,\r\n                                                market: prediction.bettingTip || 'Ganador'\r\n                                            });\r\n\r\n                                            toast.success('¬°A√±adido al Ticket!', {\r\n                                                description: `Cuota estimada: ${estimatedOdds.toFixed(2)}`\r\n                                            });\r\n                                        }}\r\n                                        className=\"mt-2 w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg font-bold text-sm transition-all shadow-lg shadow-purple-900/30 active:scale-95 flex items-center justify-center gap-2\"\r\n                                    >\r\n                                        <span>üé´</span>\r\n                                        <span>A√±adir al Ticket</span>\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"mt-3 flex items-center justify-center gap-2\">\r\n                                <div className=\"flex-1 max-w-xs h-3 bg-black/20 rounded-full overflow-hidden\">\r\n                                    <div\r\n                                        className=\"h-full bg-black rounded-full transition-all duration-500\"\r\n                                        style={{ width: `${typeof prediction.confidence === 'number' ? prediction.confidence : parseInt(prediction.confidence || '0')}%` }}\r\n                                    ></div>\r\n                                </div>\r\n                                <span className=\"text-black font-black text-xl\">\r\n                                    {typeof prediction.confidence === 'number' ? `${prediction.confidence}%` : (prediction.confidence ? `${parseInt(prediction.confidence)}%` : '-%')}\r\n                                </span>\r\n                            </div>\r\n                            <p className=\"text-black/60 text-xs mt-2 font-semibold\">Precisi√≥n del Or√°culo</p>\r\n                        </div>\r\n\r\n                        {/* PICK DE ORO - MOST VIABLE PICK (HIGH PROBABILITY) */}\r\n                        {prediction.mostViablePick && (\r\n                            <div className=\"bg-gradient-to-br from-yellow-500/20 via-yellow-600/10 to-transparent p-[2px] rounded-2xl shadow-xl shadow-yellow-500/10 border border-yellow-500/30 overflow-hidden group\">\r\n                                <div className=\"bg-slate-900/90 backdrop-blur-xl p-4 rounded-[14px]\">\r\n                                    <div className=\"flex justify-between items-start mb-3\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <div className=\"bg-yellow-500 p-1.5 rounded-lg shadow-lg shadow-yellow-500/40\">\r\n                                                <Target className=\"w-4 h-4 text-black\" />\r\n                                            </div>\r\n                                            <div>\r\n                                                <span className=\"text-[10px] font-black text-yellow-500 uppercase tracking-[0.2em] block leading-none\">Recomendaci√≥n VIP</span>\r\n                                                <h3 className=\"text-white font-black text-lg leading-tight uppercase\">Pick de Oro</h3>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex flex-col items-end\">\r\n                                            <span className=\"text-[10px] text-yellow-500/60 font-black uppercase italic\">√âxito Est.</span>\r\n                                            <span className=\"text-2xl font-black text-yellow-500 leading-none tracking-tighter\">{prediction.mostViablePick.winProbability || '90%'}</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center justify-between bg-yellow-500/5 border border-yellow-500/10 p-4 rounded-xl\">\r\n                                        <div className=\"flex flex-col\">\r\n                                            <span className=\"text-yellow-200/50 text-[10px] uppercase font-bold tracking-widest leading-none mb-1\">{prediction.mostViablePick.market || 'Mercado de Puntos'}</span>\r\n                                            <span className=\"text-white font-black text-2xl tracking-tighter\">\r\n                                                {prediction.mostViablePick.pick} {prediction.mostViablePick.line}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"h-12 w-12 flex items-center justify-center rounded-full bg-yellow-500/10 border border-yellow-500/20 shadow-inner group-hover:scale-110 transition-transform\">\r\n                                            <Crown className=\"w-6 h-6 text-yellow-500\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"mt-3 flex gap-3 p-3 bg-white/5 rounded-lg border border-white/5\">\r\n                                        <Info className=\"w-4 h-4 text-yellow-500 shrink-0\" />\r\n                                        <p className=\"text-[11px] text-yellow-100/70 font-medium leading-relaxed\">\r\n                                            \"{prediction.mostViablePick.rationale}\"\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* VALUE BET / ODDS SECTION - ONLY IF IT IS A VALUE BET */}\r\n                        {prediction.isValueBet && (\r\n                            <div className=\"bg-gradient-to-br from-yellow-500/10 to-transparent p-5 rounded-2xl border border-yellow-500/20 space-y-4\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className=\"text-2xl\">üí∞</span>\r\n                                        <div>\r\n                                            <p className=\"text-yellow-500 text-[10px] font-black uppercase tracking-tighter\">Oportunidad de Mercado</p>\r\n                                            <h3 className=\"text-white font-black text-lg\">Casa de Apuestas</h3>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-green-400 text-[10px] font-black\">\r\n                                        +{prediction.edge || '12.5'}% EDGE\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* Comparison Grid */}\r\n                                {!showMasked ? (\r\n                                    <>\r\n                                        <div className=\"grid grid-cols-2 gap-2\">\r\n                                            {(() => {\r\n                                                const confidence = typeof prediction.confidence === 'number' ? prediction.confidence : 70;\r\n                                                const baseOdds = estimateOdds(confidence);\r\n                                                const houses = [\r\n                                                    { name: 'Bet365', odds: (baseOdds * 1.01).toFixed(2) },\r\n                                                    { name: 'Betplay', odds: (baseOdds * 1.02).toFixed(2) },\r\n                                                    { name: 'Rushbet', odds: (baseOdds * 1.01).toFixed(2) },\r\n                                                    { name: 'Wplay', odds: (baseOdds * 0.99).toFixed(2) },\r\n                                                ];\r\n                                                const bestOdds = Math.max(...houses.map(h => parseFloat(h.odds)));\r\n\r\n                                                return houses.map((house) => (\r\n                                                    <div key={house.name} className={`p-3 rounded-xl border transition-all ${parseFloat(house.odds) === bestOdds ? 'bg-green-500/20 border-green-400/50 ring-2 ring-green-400/30' : 'bg-white/5 border-white/10'}`}>\r\n                                                        <div className=\"text-[10px] text-gray-400 font-bold mb-1 uppercase tracking-widest\">{house.name}</div>\r\n                                                        <div className=\"flex items-center justify-between\">\r\n                                                            <div className=\"text-2xl font-black text-white italic\">{house.odds}</div>\r\n                                                            {parseFloat(house.odds) === bestOdds && <span className=\"text-[9px] bg-green-500 text-black px-1.5 py-0.5 rounded-full font-black\">TOP</span>}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ));\r\n                                            })()}\r\n                                        </div>\r\n\r\n                                        {/* STRATEGY BREAKDOWN - Requested by user */}\r\n                                        <div className=\"bg-black/40 p-4 rounded-xl border border-yellow-500/10\">\r\n                                            <p className=\"text-[10px] text-yellow-500 uppercase font-black mb-2 flex items-center gap-1\">\r\n                                                <Zap className=\"w-3 h-3\" /> Combinaci√≥n Interna Genius\r\n                                            </p>\r\n                                            <div className=\"space-y-2\">\r\n                                                <div className=\"flex justify-between items-center text-xs\">\r\n                                                    <span className=\"text-gray-400 font-medium\">L√≠nea Principal (Market)</span>\r\n                                                    <span className=\"text-white font-bold\">{estimateOdds(prediction.confidence || 70).toFixed(2)}</span>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between items-center text-xs\">\r\n                                                    <span className=\"text-gray-400 font-medium\">L√≠nea Interna (AI Edge)</span>\r\n                                                    <span className=\"text-green-400 font-bold\">+{((prediction.edge || 12) / 100).toFixed(2)}</span>\r\n                                                </div>\r\n                                                <div className=\"pt-2 mt-2 border-t border-white/5 flex justify-between items-center\">\r\n                                                    <span className=\"text-xs text-yellow-500 font-black italic\">Probabilidad Real</span>\r\n                                                    <span className=\"text-lg font-black text-white italic\">Cuota Meta: {((estimateOdds(prediction.confidence || 70)) * 1.1).toFixed(2)}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"text-[9px] text-gray-500 mt-3 italic leading-tight\">\r\n                                                * El cliente debe ingresar en la casa de apuesta y verificar si es una l√≠nea simple o una combinaci√≥n interna detallada por el Or√°culo.\r\n                                            </p>\r\n                                        </div>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className=\"bg-black/40 p-6 rounded-2xl border border-yellow-500/20 text-center space-y-3\">\r\n                                        <Lock className=\"w-8 h-8 text-yellow-500 mx-auto opacity-20\" />\r\n                                        <p className=\"text-xs text-gray-400\">Las cuotas de valor y el desglose de estrategia est√°n reservados para usuarios Premium.</p>\r\n                                        <button onClick={() => window.location.href = '/pricing'} className=\"px-6 py-2 bg-yellow-500 text-black font-black rounded-full hover:bg-yellow-400 transition-all text-[10px] uppercase\">\r\n                                            Ver Detalles de Valor\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"bg-black/30 p-4 rounded-lg\">\r\n                            <p className=\"text-purple-300 text-xs uppercase font-bold mb-2\">Visi√≥n del Genio</p>\r\n                            <p className=\"text-gray-200 leading-relaxed text-sm\">\r\n                                {prediction.reasoning}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* UNLOCKED STATS FOR EVERYONE - FOCUS ON GOALS & SHOTS */}\r\n                        {prediction.predictions && (\r\n                            <div className=\"space-y-3 mt-4\">\r\n                                <div className=\"flex items-center justify-between mb-2\">\r\n                                    <h4 className=\"text-gray-400 text-xs font-bold uppercase tracking-wider flex items-center gap-2\">\r\n                                        <TrendingUp className=\"w-3 h-3\" /> An√°lisis de M√©tricas (IA)\r\n                                    </h4>\r\n                                    <span className=\"text-[8px] text-purple-400 font-black uppercase tracking-widest bg-purple-500/10 px-2 py-0.5 rounded-full border border-purple-500/20\">\r\n                                        Historial + Vivo\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-3\">\r\n                                    <div className=\"bg-gradient-to-br from-green-900/40 to-green-800/20 p-3 rounded-xl border border-green-500/20 group hover:border-green-500/40 transition-all\">\r\n                                        <p className=\"text-green-300 text-[10px] uppercase font-black mb-1\">\r\n                                            {sport === 'basketball' || sport.includes('nfl') || sport.includes('american') ? 'Puntos Totales' :\r\n                                                sport === 'tennis' ? 'Juegos Totales' :\r\n                                                    sport === 'baseball' ? 'Carreras Totales' : 'Goles Proy.'}\r\n                                        </p>\r\n                                        <div className=\"flex items-end justify-between\">\r\n                                            <p className=\"text-white font-black text-2xl italic\">\r\n                                                {sport === 'basketball' || sport.includes('nfl') || sport.includes('american') ? (prediction.predictions.totalPoints || prediction.predictions.totalPoints) :\r\n                                                    sport === 'tennis' ? (prediction.predictions.totalGames || prediction.predictions.totalGames) :\r\n                                                        sport === 'baseball' ? (prediction.predictions.totalRuns || prediction.predictions.totalRuns) :\r\n                                                            (prediction.predictions.totalGoals || prediction.predictions.totalGoals || '-')}\r\n                                                {(prediction.predictions.overUnder?.pick || prediction.predictions.pick) && (\r\n                                                    <span className=\"text-[10px] ml-1 opacity-50 font-black italic\">({prediction.predictions.overUnder?.pick || prediction.predictions.pick})</span>\r\n                                                )}\r\n                                            </p>\r\n                                            {prediction.predictions.overUnder && (\r\n                                                <span className=\"text-[9px] bg-green-500/20 text-green-400 font-black px-1.5 py-0.5 rounded uppercase\">\r\n                                                    <span suppressHydrationWarning>Generado: {new Date(prediction.generatedAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    {sport !== 'basketball' && (prediction.predictions.shots || prediction.predictions.yards) && (\r\n                                        <div className=\"bg-red-900/30 p-3 rounded-xl border border-red-500/20 group hover:border-red-500/40 transition-all\">\r\n                                            <p className=\"text-red-300 text-[10px] uppercase font-black mb-1\">\r\n                                                {sport.includes('nfl') || sport.includes('american') ? 'Yardas Totales' :\r\n                                                    sport === 'tennis' ? 'Aces Proyectados' :\r\n                                                        sport === 'baseball' ? 'Hits Proyectados' : 'Tiros al Arco'}\r\n                                            </p>\r\n                                            <div className=\"flex items-end justify-between\">\r\n                                                <p className=\"text-white font-black text-2xl italic\">\r\n                                                    {(sport.includes('nfl') || sport.includes('american')) ? (prediction.predictions.yards?.total || '-') : (prediction.predictions.shots?.total || prediction.predictions.shots?.onTarget || '-')}\r\n                                                    {(prediction.predictions.yards?.pick || prediction.predictions.shots?.pick) && (\r\n                                                        <span className=\"text-[10px] ml-1 opacity-50 font-black italic\">({prediction.predictions.yards?.pick || prediction.predictions.shots?.pick})</span>\r\n                                                    )}\r\n                                                </p>\r\n                                                <span className=\"text-[9px] text-red-400/50 font-bold italic\">Expectativa</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <p className=\"text-[9px] text-gray-500 italic mt-1 px-1\">\r\n                                    * Proyecciones basadas en volumen hist√≥rico de partidos previos y {sport === 'football' ? 'ritmo de ataques peligrosos' : 'ritmo de juego actual'}.\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* PREMIUM CONTENT SECTION */}\r\n                        <div className=\"relative mt-4\">\r\n                            {prediction.predictions && (\r\n                                <div className=\"space-y-3\">\r\n                                    <h4 className=\"text-yellow-400 text-sm font-bold uppercase tracking-wider mt-6 mb-2 flex items-center gap-2\">\r\n                                        üåü Detalles Premium\r\n                                        {showMasked && <span className=\"text-[10px] bg-yellow-400 text-black px-2 py-0.5 rounded-full\">Locked</span>}\r\n                                    </h4>\r\n\r\n                                    {showMasked ? (\r\n                                        <div className=\"bg-black/40 p-6 rounded-2xl border border-yellow-500/20 text-center space-y-4\">\r\n                                            <Crown className=\"w-12 h-12 text-yellow-400 mx-auto opacity-20\" />\r\n                                            <div>\r\n                                                <p className=\"text-white font-bold mb-1\">Mercados de Alto Valor Bloqueados</p>\r\n                                                <p className=\"text-gray-400 text-xs\">Accede a Marcador Exacto, Tarjetas y Factores Clave con Premium.</p>\r\n                                            </div>\r\n                                            <button onClick={() => window.location.href = '/pricing'} className=\"w-full py-3 bg-yellow-400 text-black font-black rounded-xl text-xs hover:bg-yellow-300 transition-all\">\r\n                                                Pasar a Premium\r\n                                            </button>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <>\r\n                                            <div className=\"grid grid-cols-2 gap-3\">\r\n                                                <div className=\"bg-gradient-to-br from-blue-900/40 to-blue-800/20 p-3 rounded-lg border border-blue-500/20\">\r\n                                                    <p className=\"text-blue-300 text-[10px] uppercase font-bold mb-1\">\r\n                                                        {sport === 'basketball' ? 'Est. Final' : sport === 'football' ? 'üö© Fueras de Juego' : (sport.includes('hockey') || sport.includes('nhl')) ? 'üèí Puck Line' : 'Marcador Exacto'}\r\n                                                    </p>\r\n                                                    <p className=\"text-white font-bold text-xl\">\r\n                                                        {sport === 'football' ? (prediction.predictions.offsides?.total || '-') : (sport.includes('hockey') || sport.includes('nhl')) ? (prediction.predictions.puckLine?.line || prediction.predictions.spread?.line || '-') : (prediction.predictions.finalScore || '-')}\r\n                                                        {prediction.predictions.offsides?.pick && <span className=\"text-[10px] ml-1 opacity-50 font-black italic\">({prediction.predictions.offsides.pick})</span>}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div className=\"bg-gradient-to-br from-purple-900/40 to-purple-800/20 p-3 rounded-lg border border-purple-500/20\">\r\n                                                    <p className=\"text-purple-300 text-[10px] uppercase font-bold mb-1\">Mercado O/U (Total)</p>\r\n                                                    <p className=\"text-white font-bold text-xl\">\r\n                                                        {prediction.predictions.overUnder?.line || prediction.predictions.totalPoints || prediction.predictions.totalGoals || '-'}\r\n                                                        {(prediction.predictions.overUnder?.pick) && (\r\n                                                            <span className=\"block text-[10px] text-purple-400 font-black uppercase\">\r\n                                                                {prediction.predictions.overUnder.pick} {prediction.predictions.overUnder.line}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </p>\r\n                                                    <p className=\"text-[9px] text-purple-200/50 font-bold uppercase\">Proyecci√≥n Genio</p>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* SPECIALIZED MARKETS (CORNERS, CARDS, TOUCHDOWNS) - HIDE IF HOCKEY */}\r\n                                            {!sport.includes('hockey') && !sport.includes('nhl') && (prediction.predictions.corners || prediction.predictions.cards || prediction.predictions.touchdowns) && (\r\n                                                <div className=\"grid grid-cols-2 gap-3\">\r\n                                                    {prediction.predictions.corners && (\r\n                                                        <div className=\"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/20\">\r\n                                                            <p className=\"text-emerald-300 text-[10px] uppercase font-bold mb-1\">‚õ≥ C√≥rners</p>\r\n                                                            <p className=\"text-white font-bold text-lg\">\r\n                                                                {prediction.predictions.corners.total || (prediction.predictions.corners.home + prediction.predictions.corners.away)}\r\n                                                                {(prediction.predictions.corners.pick || prediction.predictions.corners.line) && (\r\n                                                                    <span className=\"block text-[10px] text-emerald-400 font-black uppercase\">\r\n                                                                        {prediction.predictions.corners.pick} {prediction.predictions.corners.line}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {prediction.predictions.cards && (\r\n                                                        <div className=\"bg-red-900/30 p-3 rounded-lg border border-red-500/20\">\r\n                                                            <p className=\"text-red-300 text-[10px] uppercase font-bold mb-1\">üü® Tarjetas</p>\r\n                                                            <p className=\"text-white font-bold text-lg\">\r\n                                                                {prediction.predictions.cards.yellowCards + (prediction.predictions.cards.redCards || 0)}\r\n                                                                {(prediction.predictions.cards.pick || prediction.predictions.cards.line) && (\r\n                                                                    <span className=\"block text-[10px] text-red-400 font-black uppercase\">\r\n                                                                        {prediction.predictions.cards.pick} {prediction.predictions.cards.line}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {prediction.predictions.touchdowns && (\r\n                                                        <div className=\"bg-blue-900/30 p-3 rounded-lg border border-blue-500/20\">\r\n                                                            <p className=\"text-blue-300 text-[10px] uppercase font-bold mb-1\">üèà TD Totales</p>\r\n                                                            <p className=\"text-white font-bold text-lg\">\r\n                                                                {prediction.predictions.touchdowns.total || (prediction.predictions.touchdowns.home + prediction.predictions.touchdowns.away)}\r\n                                                                {(prediction.predictions.touchdowns.pick || prediction.predictions.touchdowns.line) && (\r\n                                                                    <span className=\"block text-[10px] text-blue-400 font-black uppercase\">\r\n                                                                        {prediction.predictions.touchdowns.pick} {prediction.predictions.touchdowns.line}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {prediction.predictions.yards && (\r\n                                                        <div className=\"bg-orange-900/30 p-3 rounded-lg border border-orange-500/20\">\r\n                                                            <p className=\"text-orange-300 text-[10px] uppercase font-bold mb-1\">üìè Yardas Totales</p>\r\n                                                            <p className=\"text-white font-bold text-lg\">\r\n                                                                {prediction.predictions.yards.total}\r\n                                                                {(prediction.predictions.yards.pick || prediction.predictions.yards.line) && (\r\n                                                                    <span className=\"block text-[10px] text-orange-400 font-black uppercase\">\r\n                                                                        {prediction.predictions.yards.pick} {prediction.predictions.yards.line}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    )}\r\n                                                    {/* TENNIS SPECIFIC (SETS) */}\r\n                                                    {sport === 'tennis' && prediction.predictions.sets && (\r\n                                                        <div className=\"bg-blue-900/30 p-3 rounded-lg border border-blue-400/20\">\r\n                                                            <p className=\"text-blue-300 text-[10px] uppercase font-bold mb-1\">üéæ Marcador Sets</p>\r\n                                                            <div className=\"flex justify-between items-center\">\r\n                                                                <span className=\"text-white font-black text-lg\">{prediction.predictions.sets.home} - {prediction.predictions.sets.away}</span>\r\n                                                                <span className=\"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded font-black\">SETS</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    {/* BASEBALL SPECIFIC (FIRST 5) */}\r\n                                                    {sport === 'baseball' && prediction.predictions.first5 && (\r\n                                                        <div className=\"bg-orange-900/30 p-3 rounded-lg border border-orange-400/20\">\r\n                                                            <p className=\"text-orange-300 text-[10px] uppercase font-bold mb-1\">‚öæ Primeras 5 Entradas</p>\r\n                                                            <div className=\"flex justify-between items-center\">\r\n                                                                <span className=\"text-white font-black text-lg\">{prediction.predictions.first5.winner || prediction.predictions.first5.pick}</span>\r\n                                                                <span className=\"text-[8px] bg-orange-500/20 text-orange-400 px-1.5 py-0.5 rounded font-black\">F5</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* ALTERNATIVE VALUED MARKETS (FOR BASKETBALL/ALL) */}\r\n                                            {prediction.predictions.alternativePicks && (\r\n                                                <div className=\"mt-4 bg-gradient-to-br from-indigo-900/30 to-purple-900/20 p-4 rounded-xl border border-indigo-500/20\">\r\n                                                    <div className=\"flex justify-between items-center mb-3\">\r\n                                                        <p className=\"text-white text-[11px] font-black uppercase tracking-widest flex items-center gap-2\">\r\n                                                            üéØ Mercados de Valor Alternativos\r\n                                                        </p>\r\n                                                        <span className=\"text-[10px] bg-indigo-500/20 text-indigo-400 px-2 py-0.5 rounded-full border border-indigo-500/30 font-bold\">BETPLAY STYLE</span>\r\n                                                    </div>\r\n                                                    <div className=\"grid grid-cols-1 gap-2\">\r\n                                                        {prediction.predictions.alternativePicks.map((pick: any, idx: number) => (\r\n                                                            <div key={idx} className={`flex items-center justify-between p-3 rounded-lg border transition-all hover:scale-[1.01] ${pick.type.includes('Bajo') ? 'bg-green-500/5 border-green-500/20' : 'bg-red-500/10 border-red-500/20'}`}>\r\n                                                                <div className=\"flex flex-col\">\r\n                                                                    <span className={`text-[9px] font-black uppercase tracking-tighter ${pick.type.includes('Bajo') ? 'text-green-400' : 'text-red-400'}`}>\r\n                                                                        {pick.type}\r\n                                                                    </span>\r\n                                                                    <div className=\"flex items-center gap-2\">\r\n                                                                        <span className=\"text-white font-black text-lg\">\r\n                                                                            {pick.pick} {pick.line}\r\n                                                                        </span>\r\n                                                                        {pick.type.includes('Alto') && <Zap className=\"w-3 h-3 text-yellow-500 fill-yellow-500 animate-pulse\" />}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"text-right flex items-center gap-3\">\r\n                                                                    <span className=\"text-[10px] text-slate-400 italic max-w-xs block leading-tight\">\r\n                                                                        \"{pick.rationale}\"\r\n                                                                    </span>\r\n                                                                    <div className={`p-1.5 rounded-full ${pick.type.includes('Bajo') ? 'bg-green-500/20' : 'bg-red-500/20'}`}>\r\n                                                                        <TrendingUp className={`w-3.5 h-3.5 ${pick.type.includes('Bajo') ? 'text-green-400' : 'text-red-400'}`} />\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* FOOTBALL SECONDARY MARKETS - PREMIUM ONLY */}\r\n                                            {sport === 'football' && (\r\n                                                <div className=\"bg-gradient-to-br from-green-900/20 to-emerald-900/20 p-4 rounded-xl border border-green-500/20 space-y-3 mt-3\">\r\n                                                    <p className=\"text-green-400 text-[10px] uppercase font-black mb-3 flex items-center gap-2\">\r\n                                                        ‚öΩ Mercados Secundarios (F√∫tbol Elite)\r\n                                                    </p>\r\n\r\n                                                    <div className=\"grid grid-cols-2 gap-3\">\r\n                                                        {/* BTTS - Both Teams Score */}\r\n                                                        {prediction.predictions.bothTeamsScore && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-green-500/10\">\r\n                                                                <p className=\"text-green-300 text-[9px] uppercase font-bold mb-1\">Ambos Anotan</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.bothTeamsScore.pick}\r\n                                                                    <span className=\"text-[9px] ml-1 opacity-50\">\r\n                                                                        ({prediction.predictions.bothTeamsScore.confidence})\r\n                                                                    </span>\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* First Goal */}\r\n                                                        {prediction.predictions.firstGoal && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-yellow-500/10\">\r\n                                                                <p className=\"text-yellow-300 text-[9px] uppercase font-bold mb-1\">Primer Gol</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.firstGoal.team === 'Home' ? 'Local' : prediction.predictions.firstGoal.team === 'Away' ? 'Visitante' : 'Ninguno'}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* HT/FT */}\r\n                                                        {prediction.predictions.halftimeFulltime && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-blue-500/10\">\r\n                                                                <p className=\"text-blue-300 text-[9px] uppercase font-bold mb-1\">HT/FT</p>\r\n                                                                <p className=\"text-white font-black text-sm\">\r\n                                                                    {prediction.predictions.halftimeFulltime.pick}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* Total Cards */}\r\n                                                        {prediction.predictions.totalCards && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-red-500/10\">\r\n                                                                <p className=\"text-red-300 text-[9px] uppercase font-bold mb-1\">Tarjetas Totales</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.totalCards.total}\r\n                                                                    <span className=\"text-[9px] ml-1 opacity-50\">\r\n                                                                        ({prediction.predictions.totalCards.pick})\r\n                                                                    </span>\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* Penalties */}\r\n                                                        {prediction.predictions.penalties && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-purple-500/10\">\r\n                                                                <p className=\"text-purple-300 text-[9px] uppercase font-bold mb-1\">Penales</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.penalties.pick}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* Corners Leader */}\r\n                                                        {prediction.predictions.cornersLeader && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-emerald-500/10\">\r\n                                                                <p className=\"text-emerald-300 text-[9px] uppercase font-bold mb-1\">M√°s C√≥rners</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.cornersLeader.team === 'Home' ? 'Local' : 'Visitante'}\r\n                                                                    <span className=\"text-[9px] ml-1 opacity-50\">({prediction.predictions.cornersLeader.total})</span>\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n\r\n                                                    {/* Goals by Half */}\r\n                                                    {prediction.predictions.goalsByHalf && (\r\n                                                        <div className=\"bg-black/40 p-3 rounded-lg border border-orange-500/10\">\r\n                                                            <p className=\"text-orange-300 text-[9px] uppercase font-bold mb-2\">Goles por Mitad</p>\r\n                                                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                                                <div>\r\n                                                                    <p className=\"text-[8px] text-gray-400 mb-1\">Primera Mitad</p>\r\n                                                                    <p className=\"text-white font-bold\">\r\n                                                                        {prediction.predictions.goalsByHalf.firstHalf.total}\r\n                                                                        <span className=\"text-[9px] ml-1 opacity-50\">\r\n                                                                            ({prediction.predictions.goalsByHalf.firstHalf.pick})\r\n                                                                        </span>\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div>\r\n                                                                    <p className=\"text-[8px] text-gray-400 mb-1\">Segunda Mitad</p>\r\n                                                                    <p className=\"text-white font-bold\">\r\n                                                                        {prediction.predictions.goalsByHalf.secondHalf.total}\r\n                                                                        <span className=\"text-[9px] ml-1 opacity-50\">\r\n                                                                            ({prediction.predictions.goalsByHalf.secondHalf.pick})\r\n                                                                        </span>\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* BASKETBALL ADVANCED MARKETS (ELITE) */}\r\n                                            {sport === 'basketball' && (\r\n                                                <div className=\"bg-gradient-to-br from-orange-900/20 to-amber-900/20 p-4 rounded-xl border border-orange-500/20 space-y-3 mt-3\">\r\n                                                    <p className=\"text-orange-400 text-[10px] uppercase font-black mb-3 flex items-center gap-2\">\r\n                                                        üèÄ Mercados Elite (Player Props & Quarters)\r\n                                                    </p>\r\n\r\n                                                    <div className=\"grid grid-cols-2 gap-3\">\r\n                                                        {/* TRIPLES (3PM) */}\r\n                                                        {prediction.predictions.playerProps?.threes && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-orange-500/10\">\r\n                                                                <p className=\"text-orange-300 text-[9px] uppercase font-bold mb-1\">Triples (3PM)</p>\r\n                                                                <p className=\"text-white font-black text-sm mb-1\">{prediction.predictions.playerProps.threes.player}</p>\r\n                                                                <div className=\"flex justify-between items-center\">\r\n                                                                    <span className=\"text-orange-500 font-bold text-lg\">{prediction.predictions.playerProps.threes.pick} {prediction.predictions.playerProps.threes.line}</span>\r\n                                                                    <span className=\"text-[8px] bg-orange-500/20 text-orange-400 px-1.5 py-0.5 rounded\">3PT</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* PRA (Pts+Reb+Ast) */}\r\n                                                        {prediction.predictions.playerProps?.pra && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-purple-500/10\">\r\n                                                                <p className=\"text-purple-300 text-[9px] uppercase font-bold mb-1\">PRA (Pts+Reb+Ast)</p>\r\n                                                                <p className=\"text-white font-black text-sm mb-1\">{prediction.predictions.playerProps.pra.player}</p>\r\n                                                                <div className=\"flex justify-between items-center\">\r\n                                                                    <span className=\"text-purple-500 font-bold text-lg\">{prediction.predictions.playerProps.pra.pick} {prediction.predictions.playerProps.pra.line}</span>\r\n                                                                    <span className=\"text-[8px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded\">COMBO</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* RACE TO 20 */}\r\n                                                        {prediction.predictions.quarterMarkets?.raceTo20 && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-blue-500/10\">\r\n                                                                <p className=\"text-blue-300 text-[9px] uppercase font-bold mb-1\">Carrera a 20 Puntos (Q1)</p>\r\n                                                                <p className=\"text-white font-black text-lg\">\r\n                                                                    {prediction.predictions.quarterMarkets.raceTo20.pick}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        {/* 1ST QUARTER WINNER */}\r\n                                                        {prediction.predictions.quarterMarkets?.firstQuarter && (\r\n                                                            <div className=\"bg-black/40 p-3 rounded-lg border border-green-500/10\">\r\n                                                                <p className=\"text-green-300 text-[9px] uppercase font-bold mb-1\">Ganador 1er Cuarto</p>\r\n                                                                <p className=\"text-white font-black text-sm\">\r\n                                                                    {prediction.predictions.quarterMarkets.firstQuarter.pick}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* PLAYER PROJECTIONS (PREMIUM) */}\r\n                                            {prediction.predictions.projections && prediction.predictions.projections.length > 0 && (\r\n                                                <div className=\"bg-black/40 p-4 rounded-xl border border-yellow-500/20\">\r\n                                                    <p className=\"text-[10px] text-yellow-500 uppercase font-black mb-3 flex items-center gap-2\">\r\n                                                        <Crown className=\"w-3 h-3\" /> Proyecciones de Jugadores Pro\r\n                                                    </p>\r\n                                                    <div className=\"grid grid-cols-1 gap-2\">\r\n                                                        {prediction.predictions.projections.map((p: any, idx: number) => (\r\n                                                            <div key={idx} className=\"bg-white/5 p-3 rounded-lg border border-white/5 transition-all\">\r\n                                                                <div className=\"flex justify-between items-center mb-2\">\r\n                                                                    <div className=\"flex items-center gap-2\">\r\n                                                                        <p className=\"text-white font-black text-sm italic\">{p.name}</p>\r\n                                                                        <button\r\n                                                                            onClick={() => handleTogglePlayerFavorite(p.name)}\r\n                                                                            className={`transition-all duration-300 ${isPlayerFavorite(p.name) ? 'text-yellow-500' : 'text-white/20 hover:text-white/60'}`}\r\n                                                                        >\r\n                                                                            <Star className={`w-3 h-3 ${isPlayerFavorite(p.name) ? 'fill-current' : ''}`} />\r\n                                                                        </button>\r\n                                                                    </div>\r\n                                                                    <span className={`text-[8px] px-2 py-0.5 rounded-full font-black ${p.confidence === 'Alta' ? 'bg-green-500/20 text-green-400' : 'bg-yellow-500/20 text-yellow-400'\r\n                                                                        }`}>\r\n                                                                        CONF: {p.confidence}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                                {sport === 'basketball' ? (\r\n                                                                    <div className=\"grid grid-cols-3 gap-2\">\r\n                                                                        <div className=\"text-center p-1 bg-black/20 rounded\">\r\n                                                                            <p className=\"text-[7px] text-gray-500 font-bold uppercase\">PTS</p>\r\n                                                                            <p className=\"text-xs font-black text-yellow-500\">{p.points}</p>\r\n                                                                        </div>\r\n                                                                        <div className=\"text-center p-1 bg-black/20 rounded\">\r\n                                                                            <p className=\"text-[7px] text-gray-500 font-bold uppercase\">REB</p>\r\n                                                                            <p className=\"text-xs font-black text-white\">{p.rebounds || '-'}</p>\r\n                                                                        </div>\r\n                                                                        <div className=\"text-center p-1 bg-black/20 rounded\">\r\n                                                                            <p className=\"text-[7px] text-gray-500 font-bold uppercase\">AST</p>\r\n                                                                            <p className=\"text-xs font-black text-white\">{p.assists || '-'}</p>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                ) : (\r\n                                                                    <div className=\"bg-black/20 p-2 rounded flex justify-between items-center\">\r\n                                                                        <p className=\"text-[9px] text-gray-400 font-bold uppercase\">{p.description || 'Pron√≥stico'}</p>\r\n                                                                        <p className=\"text-xs font-black text-yellow-500\">{p.points}</p>\r\n                                                                    </div>\r\n                                                                )}\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {prediction.keyFactors && prediction.keyFactors.length > 0 && (\r\n                                                <div className=\"bg-black/40 p-4 rounded-lg border border-white/5\">\r\n                                                    <p className=\"text-purple-300 text-xs uppercase font-bold mb-2\">üß† Inteligencia T√°ctica</p>\r\n                                                    <ul className=\"space-y-2\">\r\n                                                        {prediction.keyFactors.map((factor: string, idx: number) => (\r\n                                                            <li key={idx} className=\"text-gray-300 text-sm flex items-start gap-2\">\r\n                                                                <span className=\"text-green-400 mt-1 text-xs\">‚úì</span>\r\n                                                                <span>{factor}</span>\r\n                                                            </li>\r\n                                                        ))}\r\n                                                    </ul>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"text-center mt-4\">\r\n                            <button onClick={handlePredict} className=\"text-xs text-purple-300 hover:text-white underline\">\r\n                                Actualizar An√°lisis\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/ui/ErrorBoundary.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n    children?: ReactNode;\r\n    fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean;\r\n    error?: Error;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n    public state: State = {\r\n        hasError: false\r\n    };\r\n\r\n    public static getDerivedStateFromError(error: Error): State {\r\n        return { hasError: true, error };\r\n    }\r\n\r\n    public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n        console.error('Uncaught error:', error, errorInfo);\r\n    }\r\n\r\n    public render() {\r\n        if (this.state.hasError) {\r\n            if (this.props.fallback) {\r\n                return this.props.fallback;\r\n            }\r\n\r\n            return (\r\n                <div className=\"p-6 rounded-lg border border-red-500/20 bg-red-500/10 text-center\">\r\n                    <h3 className=\"text-red-400 font-bold mb-2\">Algo sali√≥ mal</h3>\r\n                    <p className=\"text-sm text-gray-400 mb-4\">\r\n                        No pudimos cargar este componente.\r\n                    </p>\r\n                    <button\r\n                        onClick={() => this.setState({ hasError: false })}\r\n                        className=\"px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-200 text-xs rounded transition-colors\"\r\n                    >\r\n                        Reintentar\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAcA,MAAM,sBAAsB,yNAAS;IAC1B,QAAe;QAClB,UAAU;IACd,EAAE;IAEF,OAAc,yBAAyB,KAAY,EAAS;QACxD,OAAO;YAAE,UAAU;YAAM;QAAM;IACnC;IAEO,kBAAkB,KAAY,EAAE,SAAoB,EAAE;QACzD,QAAQ,KAAK,CAAC,mBAAmB,OAAO;IAC5C;IAEO,SAAS;QACZ,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACrB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC9B;YAEA,qBACI,qPAAC;gBAAI,WAAU;;kCACX,qPAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,qPAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAG1C,qPAAC;wBACG,SAAS,IAAM,IAAI,CAAC,QAAQ,CAAC;gCAAE,UAAU;4BAAM;wBAC/C,WAAU;kCACb;;;;;;;;;;;;QAKb;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC9B;AACJ;uCAEe"}},
    {"offset": {"line": 3523, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/sports/TopPlayersCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Image from 'next/image';\r\nimport { API_URL } from '@/lib/api';\r\n\r\ninterface TopPlayer {\r\n    name: string;\r\n    position: string;\r\n    rating: number;\r\n    id?: number;\r\n    statistics?: any; // Full stats object\r\n}\r\n\r\ninterface TopPlayersCardProps {\r\n    title: string;\r\n    players: any[];\r\n    sport: string;\r\n    teamColor?: 'purple' | 'orange' | 'blue' | 'green';\r\n    onPlayerClick?: (player: any) => void;\r\n}\r\n\r\nexport default function TopPlayersCard({ title, players, sport, teamColor = 'purple', onPlayerClick }: TopPlayersCardProps) {\r\n    // Sort by rating and take top 5\r\n    const topPlayers = [...players]\r\n        .sort((a, b) => (b.statistics?.rating || b.rating || 0) - (a.statistics?.rating || a.rating || 0))\r\n        .slice(0, 5);\r\n\r\n    const getColorClasses = () => {\r\n        // Keeping it subtle for the glass effect\r\n        return 'border border-white/5 bg-white/[0.02]';\r\n    };\r\n\r\n    const getTeamColorHex = () => {\r\n        switch (teamColor) {\r\n            case 'purple': return '#a855f7';\r\n            case 'orange': return '#f97316';\r\n            case 'blue': return '#3b82f6';\r\n            case 'green': return '#22c55e';\r\n            default: return '#a855f7';\r\n        }\r\n    };\r\n\r\n    const renderStats = (player: any) => {\r\n        const stats = player.statistics || {};\r\n        const pColor = getTeamColorHex();\r\n        const sportKey = sport.toLowerCase();\r\n\r\n        if (sportKey === 'basketball' || sportKey === 'nba') {\r\n            if (stats.points === undefined && stats.rebounds === undefined) return null;\r\n            return (\r\n                <div className=\"flex items-center gap-2 text-[10px] uppercase font-bold tracking-wider opacity-80\">\r\n                    {stats.points !== undefined && <span className=\"text-white\">{stats.points} PTS</span>}\r\n                    {stats.rebounds !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.rebounds !== undefined && <span>{stats.rebounds} REB</span>}\r\n                    {stats.assists !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.assists !== undefined && <span>{stats.assists} AST</span>}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (sportKey === 'football' || sportKey === 'soccer') {\r\n            return (\r\n                <div className=\"flex items-center gap-2 text-[10px] uppercase font-bold tracking-wider opacity-80\">\r\n                    {stats.goals !== undefined && stats.goals > 0 && <span className=\"text-green-400\">‚öΩ {stats.goals} Goles</span>}\r\n                    {stats.assists !== undefined && stats.assists > 0 && <span className=\"text-blue-400\">üëü {stats.assists} Asist.</span>}\r\n                    {stats.rating !== undefined && <span>Rating {stats.rating}</span>}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (sportKey === 'baseball' || sportKey === 'mlb') {\r\n            return (\r\n                <div className=\"flex items-center gap-2 text-[10px] uppercase font-bold tracking-wider opacity-80\">\r\n                    {stats.homeRuns !== undefined && <span className=\"text-orange-400\">{stats.homeRuns} HR</span>}\r\n                    {stats.runsBattedIn !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.runsBattedIn !== undefined && <span>{stats.runsBattedIn} RBI</span>}\r\n                    {stats.hits !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.hits !== undefined && <span>{stats.hits} H</span>}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (sportKey === 'american-football' || sportKey === 'nfl') {\r\n            return (\r\n                <div className=\"flex items-center gap-2 text-[10px] uppercase font-bold tracking-wider opacity-80\">\r\n                    {stats.touchdowns !== undefined && <span className=\"text-red-400\">{stats.touchdowns} TD</span>}\r\n                    {stats.passingYards !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.passingYards !== undefined && <span>{stats.passingYards} Yds Pass</span>}\r\n                    {stats.rushingYards !== undefined && <span className=\"text-white/40\">‚Ä¢</span>}\r\n                    {stats.rushingYards !== undefined && <span>{stats.rushingYards} Yds Rush</span>}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div className={`glass-card overflow-hidden`}>\r\n            {/* Header */}\r\n            <div className={`px-4 py-3 border-b border-white/5 bg-white/[0.02] flex justify-between items-center`}>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-1.5 h-4 rounded-full\" style={{ backgroundColor: getTeamColorHex() }}></div>\r\n                    <h3 className=\"text-white font-black text-xs uppercase tracking-widest\">\r\n                        {title.replace('TOP PLAYERS', 'JUGADORES TOP')}\r\n                    </h3>\r\n                </div>\r\n                <span className=\"text-[9px] font-black text-white/20 uppercase\">{sport}</span>\r\n            </div>\r\n\r\n            {/* Players List */}\r\n            <div className=\"divide-y divide-white/5\">\r\n                {topPlayers.map((player, index) => {\r\n                    const pData = player.player || player;\r\n                    const imageUrl = pData.id\r\n                        ? `${API_URL}/api/proxy/player-image/${pData.id}`\r\n                        : null;\r\n                    const rating = (player.statistics?.rating || player.rating || 0).toFixed(1);\r\n                    const isMvp = index === 0 && parseFloat(rating) >= 8.0;\r\n\r\n                    return (\r\n                        <div\r\n                            key={index}\r\n                            className=\"px-4 py-3 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer group active:scale-[0.99] duration-200\"\r\n                            onClick={() => onPlayerClick && onPlayerClick(player)}\r\n                        >\r\n                            <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n                                <span className={`font-black text-[10px] w-4 text-center ${index === 0 ? 'text-yellow-500 text-lg -ml-1 mr-1' : 'text-white/20'}`}>\r\n                                    {index === 0 ? 'üëë' : index + 1}\r\n                                </span>\r\n\r\n                                <div className={`relative w-9 h-9 rounded-xl overflow-hidden bg-white/5 border border-white/10 group-hover:border-white/30 transition-colors shrink-0 ${isMvp ? 'ring-2 ring-yellow-500/20' : ''}`}>\r\n                                    {imageUrl ? (\r\n                                        <Image\r\n                                            src={imageUrl}\r\n                                            alt={pData.name || 'Jugador'}\r\n                                            fill\r\n                                            className=\"object-cover\"\r\n                                            unoptimized\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"w-full h-full flex items-center justify-center text-white/30 text-xs font-black\">\r\n                                            {(pData.name || '?').substring(0, 1)}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"min-w-0 flex-1\">\r\n                                    <p className=\"text-white font-bold text-xs truncate group-hover:text-purple-400 transition-colors\">\r\n                                        {pData.name}\r\n                                    </p>\r\n                                    {renderStats(player)}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={`\r\n                                flex flex-col items-center justify-center w-10 h-8 rounded-lg border border-white/5\r\n                                ${isMvp\r\n                                    ? 'bg-gradient-to-b from-yellow-500/20 to-yellow-600/10 text-yellow-500 border-yellow-500/30'\r\n                                    : 'bg-white/5 text-white/80'}\r\n                            `}>\r\n                                <span className=\"text-[10px] font-black leading-none\">{rating}</span>\r\n                                <span className=\"text-[6px] uppercase opacity-50 font-bold\">Rtg</span>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n\r\n                {topPlayers.length === 0 && (\r\n                    <div className=\"p-10 text-center flex flex-col items-center justify-center space-y-4\">\r\n                        <div className=\"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center relative\">\r\n                            <div className=\"absolute inset-0 rounded-full border border-white/10 animate-ping opacity-20\"></div>\r\n                            <span className=\"text-3xl grayscale opacity-60 group-hover:grayscale-0 transition-all\">üìà</span>\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"text-white font-black text-xs uppercase tracking-widest mb-1 italic\">Calculando Rendimiento</p>\r\n                            <p className=\"text-gray-500 text-[9px] font-bold uppercase tracking-tighter leading-tight max-w-[150px] mx-auto\">\r\n                                Las estad√≠sticas de jugadores {sport === 'basketball' ? 'de NBA' : 'en vivo'} se actualizan al iniciar el encuentro.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Micro-interaction Helper */}\r\n            {topPlayers.length > 0 && <div className=\"h-0.5 w-full bg-gradient-to-r from-transparent via-white/5 to-transparent\"></div>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4022, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/ui/TeamLogo.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport { API_URL } from '@/lib/api';\r\n\r\ninterface TeamLogoProps {\r\n    teamId: number;\r\n    teamName: string;\r\n    size?: 'sm' | 'md' | 'lg' | 'xl';\r\n    className?: string;\r\n}\r\n\r\nexport default function TeamLogo({ teamId, teamName, size = 'md', className = '' }: TeamLogoProps) {\r\n    // When teamId changes, we want to reset error. \r\n    // We can simulate this by using a key on the Image or wrapping div.\r\n    const [error, setError] = useState(false);\r\n\r\n    const sizeClasses = {\r\n        sm: 'w-8 h-8',\r\n        md: 'w-12 h-12',\r\n        lg: 'w-16 h-16',\r\n        xl: 'w-24 h-24'\r\n    };\r\n\r\n    // Use our internal proxy endpoint\r\n    const imgSrc = `${API_URL}/api/proxy/team-logo/${teamId}`;\r\n\r\n    // Reset error when teamId changes by checking if prop changed (or rely on key upstream)\r\n    // To fix lint error, we remove the sync setState in effect.\r\n    // Instead we can use a key on the image component to force re-mount or just reset state in a harmless way?\r\n    const handleImageError = () => {\r\n        setError(true);\r\n    };\r\n\r\n    // Use key={teamId} on the wrapper div so that the entire component (including the error state) \r\n    // resets whenever the teamId changes. This avoids the need for an effect and fixes the lint error.\r\n    return (\r\n        <div key={teamId} className={`${sizeClasses[size]} ${className} relative`}>\r\n            {!error ? (\r\n                <Image\r\n                    src={imgSrc}\r\n                    alt={`${teamName} logo`}\r\n                    fill\r\n                    className=\"object-contain\"\r\n                    onError={handleImageError}\r\n                    unoptimized\r\n                />\r\n            ) : (\r\n                <div\r\n                    className=\"w-full h-full rounded-full bg-gradient-to-br from-purple-600 to-indigo-700 flex items-center justify-center border-2 border-purple-400/30 shadow-lg\"\r\n                >\r\n                    <span className=\"text-white font-black text-lg\">\r\n                        {teamName ? teamName.charAt(0).toUpperCase() : '?'}\r\n                    </span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAiB;IAC7F,gDAAgD;IAChD,oEAAoE;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAC;IAEnC,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,kCAAkC;IAClC,MAAM,SAAS,GAAG,4HAAO,CAAC,qBAAqB,EAAE,QAAQ;IAEzD,wFAAwF;IACxF,4DAA4D;IAC5D,2GAA2G;IAC3G,MAAM,mBAAmB;QACrB,SAAS;IACb;IAEA,gGAAgG;IAChG,mGAAmG;IACnG,qBACI,qPAAC;QAAiB,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,SAAS,CAAC;kBACpE,CAAC,sBACE,qPAAC,+IAAK;YACF,KAAK;YACL,KAAK,GAAG,SAAS,KAAK,CAAC;YACvB,IAAI;YACJ,WAAU;YACV,SAAS;YACT,WAAW;;;;;iCAGf,qPAAC;YACG,WAAU;sBAEV,cAAA,qPAAC;gBAAK,WAAU;0BACX,WAAW,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;;;;;;OAfrD;;;;;AAqBlB"}},
    {"offset": {"line": 4093, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/sports/UniversalPlayerPropModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Image from 'next/image';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { TrendingUp, BarChart3, Zap, ShieldCheck, User, MapPin } from 'lucide-react';\r\nimport { BarChart, Bar, ResponsiveContainer, YAxis, Cell, ReferenceLine } from 'recharts';\r\n\r\ninterface UniversalPlayerPropModalProps {\r\n    player: any;\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    sport: 'football' | 'basketball' | 'baseball' | 'tennis';\r\n}\r\n\r\nexport default function UniversalPlayerPropModal({ player, isOpen, onClose, sport }: UniversalPlayerPropModalProps) {\r\n    if (!isOpen || !player) return null;\r\n\r\n    const pId = player.id || player.player?.id;\r\n    const pName = player.name || player.player?.name;\r\n    const pRating = player.rating || player.player?.rating || 0;\r\n\r\n    const imageUrl = pId ? `/api/proxy/player-image/${pId}` : null;\r\n\r\n    // Mock Trend Data for \"The Deep Dive\"\r\n    const trendData = [\r\n        { game: 1, val: 24, line: 20 },\r\n        { game: 2, val: 18, line: 20 },\r\n        { game: 3, val: 28, line: 20 },\r\n        { game: 4, val: 22, line: 20 },\r\n        { game: 5, val: 21, line: 20 },\r\n    ];\r\n\r\n    const getSportStats = () => {\r\n        const stats = player.statistics || player;\r\n        switch (sport) {\r\n            case 'football':\r\n                return [\r\n                    { label: 'Goles', val: stats.goals || 0 },\r\n                    { label: 'Asists', val: stats.assists || 0 },\r\n                    { label: 'Tiros', val: stats.totalShots || 0 }\r\n                ];\r\n            case 'basketball':\r\n                return [\r\n                    { label: 'PTS', val: stats.points || stats.pts || 0 },\r\n                    { label: 'REB', val: stats.rebounds || stats.reb || 0 },\r\n                    { label: 'AST', val: stats.assists || stats.ast || 0 }\r\n                ];\r\n            default:\r\n                return [{ label: 'Rating', val: pRating }];\r\n        }\r\n    };\r\n\r\n    const mainStats = getSportStats();\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <div className=\"fixed inset-0 z-[10000] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl\" onClick={onClose}>\r\n                <motion.div\r\n                    initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                    exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n                    className=\"relative w-full max-w-2xl bg-[#0c0c0c] border border-white/10 rounded-[2.5rem] shadow-[0_20px_80px_rgba(0,0,0,1)] overflow-hidden\"\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n\r\n                    {/* Gradient Header */}\r\n                    <div className=\"h-48 bg-gradient-to-br from-purple-900/40 via-blue-900/20 to-transparent relative\">\r\n                        <div className=\"absolute inset-0 bg-grid-white/[0.02] bg-[length:20px_20px]\" />\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 flex items-center justify-center text-white transition-all z-20\"\r\n                        >\r\n                            ‚úï\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Main Content Container */}\r\n                    <div className=\"px-8 pb-10 -mt-24 relative z-10\">\r\n                        <div className=\"flex flex-col md:flex-row gap-8 items-end mb-10\">\r\n                            {/* Player Photo */}\r\n                            <div className=\"relative group\">\r\n                                <div className=\"absolute -inset-1 bg-gradient-to-br from-purple-500 to-blue-500 rounded-[2rem] blur opacity-30 group-hover:opacity-60 transition-all\" />\r\n                                <div className=\"relative w-32 h-32 rounded-[2rem] border-2 border-white/10 bg-gray-900 overflow-hidden\">\r\n                                    {imageUrl ? (\r\n                                        <Image src={imageUrl} alt={pName} fill className=\"object-cover\" unoptimized />\r\n                                    ) : (\r\n                                        <div className=\"w-full h-full flex items-center justify-center text-3xl font-black text-white/20 uppercase\">\r\n                                            {pName?.substring(0, 1)}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Info */}\r\n                            <div className=\"flex-1 pb-2\">\r\n                                <div className=\"flex items-center gap-2 mb-2 text-[10px] font-black uppercase tracking-[0.3em] text-purple-400\">\r\n                                    <ShieldCheck className=\"w-3 h-3\" /> PickGenius VIP Analysis\r\n                                </div>\r\n                                <h2 className=\"text-4xl font-black italic text-white leading-none uppercase tracking-tighter mb-2\">\r\n                                    {pName}\r\n                                </h2>\r\n                                <div className=\"flex flex-wrap gap-3\">\r\n                                    <span className=\"px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-[10px] font-black text-white uppercase tracking-widest\">\r\n                                        {player.position || 'Player'}\r\n                                    </span>\r\n                                    <span className=\"px-4 py-1.5 rounded-full bg-purple-500/10 border border-purple-500/20 text-[10px] font-black text-purple-400 uppercase tracking-widest flex items-center gap-2\">\r\n                                        <span className=\"w-1.5 h-1.5 rounded-full bg-purple-500 animate-pulse\" />\r\n                                        RATING: {pRating}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Analysis Grid */}\r\n                        <div className=\"grid md:grid-cols-2 gap-6 lg:gap-8\">\r\n                            {/* Left: Stats & Metrics */}\r\n                            <div className=\"space-y-4 lg:y-6\">\r\n                                <h3 className=\"text-[10px] lg:text-xs font-black uppercase tracking-[0.2em] text-gray-500 flex items-center gap-2\">\r\n                                    <Zap className=\"w-3 h-3 text-yellow-400\" /> Rendimiento Live\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-3 gap-2 lg:gap-3\">\r\n                                    {mainStats.map((s, i) => (\r\n                                        <div key={i} className=\"p-3 lg:p-4 rounded-2xl lg:rounded-[1.5rem] bg-white/[0.03] border border-white/5 text-center\">\r\n                                            <div className=\"text-[7px] lg:text-[8px] font-black text-gray-500 uppercase mb-1\">{s.label}</div>\r\n                                            <div className=\"text-lg lg:text-xl font-black italic text-white\">{s.val}</div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                {/* AI Narrative Insights */}\r\n                                <div className=\"p-5 lg:p-6 rounded-2xl lg:rounded-[2rem] bg-indigo-500/5 border border-indigo-500/10 shadow-[0_0_20px_rgba(99,102,241,0.1)]\">\r\n                                    <p className=\"text-[10px] lg:text-[11px] text-indigo-100/70 leading-relaxed font-medium\">\r\n                                        üöÄ <span className=\"text-white font-bold\">Insight AI:</span> Este jugador est√° manteniendo un volumen de tiros un <span className=\"text-blue-400 font-black\">14% superior</span> a su promedio hist√≥rico. <span className=\"text-white/40\">Recomendamos vigilar las l√≠neas de Props para este encuentro.</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Right: Trends Chart */}\r\n                            <div className=\"space-y-4 lg:y-6\">\r\n                                <h3 className=\"text-[10px] lg:text-xs font-black uppercase tracking-[0.2em] text-gray-500 flex items-center gap-2\">\r\n                                    <BarChart3 className=\"w-3 h-3 text-purple-400\" /> Tendencia √öltimos 5\r\n                                </h3>\r\n                                <div className=\"h-[140px] lg:h-[180px] w-full bg-white/[0.02] border border-white/5 rounded-2xl lg:rounded-[2rem] p-4 lg:p-6\">\r\n                                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                        <BarChart data={trendData}>\r\n                                            <YAxis hide domain={[0, 'dataMax + 5']} />\r\n                                            <Bar dataKey=\"val\" radius={[4, 4, 0, 0]}>\r\n                                                {trendData.map((entry, index) => (\r\n                                                    <Cell\r\n                                                        key={`cell-${index}`}\r\n                                                        fill={entry.val >= entry.line ? '#a855f7' : '#333'}\r\n                                                    />\r\n                                                ))}\r\n                                            </Bar>\r\n                                            <ReferenceLine y={20} stroke=\"#444\" strokeDasharray=\"3 3\" />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                    <div className=\"flex justify-between mt-2 px-2\">\r\n                                        <span className=\"text-[8px] font-black text-gray-600 uppercase\">M√°s antiguos</span>\r\n                                        <span className=\"text-[8px] font-black text-gray-600 uppercase\">√öltimo</span>\r\n                                    </div>\r\n                                </div>\r\n                                <p className=\"text-[9px] text-center text-gray-500 uppercase font-bold tracking-widest\">\r\n                                    La l√≠nea punteada indica el promedio de mercado\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Bottom CTA */}\r\n                        <div className=\"mt-10 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4\">\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <MapPin className=\"w-4 h-4 text-gray-600\" />\r\n                                <span className=\"text-[10px] font-bold text-gray-500 uppercase\">Estadio: Santiago Bernab√©u</span>\r\n                            </div>\r\n                            <button className=\"px-8 py-3 bg-purple-600 hover:bg-purple-500 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-xl transition-all shadow-[0_10px_30px_rgba(168,85,247,0.3)]\">\r\n                                Analizar Prop Completo\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;;AAee,SAAS,yBAAyB,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAiC;IAC9G,IAAI,CAAC,UAAU,CAAC,QAAQ,OAAO;IAE/B,MAAM,MAAM,OAAO,EAAE,IAAI,OAAO,MAAM,EAAE;IACxC,MAAM,QAAQ,OAAO,IAAI,IAAI,OAAO,MAAM,EAAE;IAC5C,MAAM,UAAU,OAAO,MAAM,IAAI,OAAO,MAAM,EAAE,UAAU;IAE1D,MAAM,WAAW,MAAM,CAAC,wBAAwB,EAAE,KAAK,GAAG;IAE1D,sCAAsC;IACtC,MAAM,YAAY;QACd;YAAE,MAAM;YAAG,KAAK;YAAI,MAAM;QAAG;QAC7B;YAAE,MAAM;YAAG,KAAK;YAAI,MAAM;QAAG;QAC7B;YAAE,MAAM;YAAG,KAAK;YAAI,MAAM;QAAG;QAC7B;YAAE,MAAM;YAAG,KAAK;YAAI,MAAM;QAAG;QAC7B;YAAE,MAAM;YAAG,KAAK;YAAI,MAAM;QAAG;KAChC;IAED,MAAM,gBAAgB;QAClB,MAAM,QAAQ,OAAO,UAAU,IAAI;QACnC,OAAQ;YACJ,KAAK;gBACD,OAAO;oBACH;wBAAE,OAAO;wBAAS,KAAK,MAAM,KAAK,IAAI;oBAAE;oBACxC;wBAAE,OAAO;wBAAU,KAAK,MAAM,OAAO,IAAI;oBAAE;oBAC3C;wBAAE,OAAO;wBAAS,KAAK,MAAM,UAAU,IAAI;oBAAE;iBAChD;YACL,KAAK;gBACD,OAAO;oBACH;wBAAE,OAAO;wBAAO,KAAK,MAAM,MAAM,IAAI,MAAM,GAAG,IAAI;oBAAE;oBACpD;wBAAE,OAAO;wBAAO,KAAK,MAAM,QAAQ,IAAI,MAAM,GAAG,IAAI;oBAAE;oBACtD;wBAAE,OAAO;wBAAO,KAAK,MAAM,OAAO,IAAI,MAAM,GAAG,IAAI;oBAAE;iBACxD;YACL;gBACI,OAAO;oBAAC;wBAAE,OAAO;wBAAU,KAAK;oBAAQ;iBAAE;QAClD;IACJ;IAEA,MAAM,YAAY;IAElB,qBACI,qPAAC,mNAAe;kBACZ,cAAA,qPAAC;YAAI,WAAU;YAA4F,SAAS;sBAChH,cAAA,qPAAC,2MAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG;gBAAG;gBACzC,SAAS;oBAAE,SAAS;oBAAG,OAAO;oBAAG,GAAG;gBAAE;gBACtC,MAAM;oBAAE,SAAS;oBAAG,OAAO;oBAAK,GAAG;gBAAG;gBACtC,WAAU;gBACV,SAAS,CAAA,IAAK,EAAE,eAAe;;kCAI/B,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;;;;;0CACf,qPAAC;gCACG,SAAS;gCACT,WAAU;0CACb;;;;;;;;;;;;kCAML,qPAAC;wBAAI,WAAU;;0CACX,qPAAC;gCAAI,WAAU;;kDAEX,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAI,WAAU;;;;;;0DACf,qPAAC;gDAAI,WAAU;0DACV,yBACG,qPAAC,+IAAK;oDAAC,KAAK;oDAAU,KAAK;oDAAO,IAAI;oDAAC,WAAU;oDAAe,WAAW;;;;;yEAE3E,qPAAC;oDAAI,WAAU;8DACV,OAAO,UAAU,GAAG;;;;;;;;;;;;;;;;;kDAOrC,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAI,WAAU;;kEACX,qPAAC,0OAAW;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DAEvC,qPAAC;gDAAG,WAAU;0DACT;;;;;;0DAEL,qPAAC;gDAAI,WAAU;;kEACX,qPAAC;wDAAK,WAAU;kEACX,OAAO,QAAQ,IAAI;;;;;;kEAExB,qPAAC;wDAAK,WAAU;;0EACZ,qPAAC;gEAAK,WAAU;;;;;;4DAAyD;4DAChE;;;;;;;;;;;;;;;;;;;;;;;;;0CAOzB,qPAAC;gCAAI,WAAU;;kDAEX,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAG,WAAU;;kEACV,qPAAC,8MAAG;wDAAC,WAAU;;;;;;oDAA4B;;;;;;;0DAE/C,qPAAC;gDAAI,WAAU;0DACV,UAAU,GAAG,CAAC,CAAC,GAAG,kBACf,qPAAC;wDAAY,WAAU;;0EACnB,qPAAC;gEAAI,WAAU;0EAAoE,EAAE,KAAK;;;;;;0EAC1F,qPAAC;gEAAI,WAAU;0EAAmD,EAAE,GAAG;;;;;;;uDAFjE;;;;;;;;;;0DAQlB,qPAAC;gDAAI,WAAU;0DACX,cAAA,qPAAC;oDAAE,WAAU;;wDAA4E;sEAClF,qPAAC;4DAAK,WAAU;sEAAuB;;;;;;wDAAkB;sEAAsD,qPAAC;4DAAK,WAAU;sEAA2B;;;;;;wDAAmB;sEAA0B,qPAAC;4DAAK,WAAU;sEAAgB;;;;;;;;;;;;;;;;;;;;;;;kDAMtP,qPAAC;wCAAI,WAAU;;0DACX,qPAAC;gDAAG,WAAU;;kEACV,qPAAC,sOAAS;wDAAC,WAAU;;;;;;oDAA4B;;;;;;;0DAErD,qPAAC;gDAAI,WAAU;;kEACX,qPAAC,iMAAmB;wDAAC,OAAM;wDAAO,QAAO;kEACrC,cAAA,qPAAC,uKAAQ;4DAAC,MAAM;;8EACZ,qPAAC,qKAAK;oEAAC,IAAI;oEAAC,QAAQ;wEAAC;wEAAG;qEAAc;;;;;;8EACtC,qPAAC,iKAAG;oEAAC,SAAQ;oEAAM,QAAQ;wEAAC;wEAAG;wEAAG;wEAAG;qEAAE;8EAClC,UAAU,GAAG,CAAC,CAAC,OAAO,sBACnB,qPAAC,mKAAI;4EAED,MAAM,MAAM,GAAG,IAAI,MAAM,IAAI,GAAG,YAAY;2EADvC,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;8EAKhC,qPAAC,qLAAa;oEAAC,GAAG;oEAAI,QAAO;oEAAO,iBAAgB;;;;;;;;;;;;;;;;;kEAG5D,qPAAC;wDAAI,WAAU;;0EACX,qPAAC;gEAAK,WAAU;0EAAgD;;;;;;0EAChE,qPAAC;gEAAK,WAAU;0EAAgD;;;;;;;;;;;;;;;;;;0DAGxE,qPAAC;gDAAE,WAAU;0DAA2E;;;;;;;;;;;;;;;;;;0CAOhG,qPAAC;gCAAI,WAAU;;kDACX,qPAAC;wCAAI,WAAU;;0DACX,qPAAC,2NAAM;gDAAC,WAAU;;;;;;0DAClB,qPAAC;gDAAK,WAAU;0DAAgD;;;;;;;;;;;;kDAEpE,qPAAC;wCAAO,WAAU;kDAA+K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS7N"}},
    {"offset": {"line": 4667, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/sports/MatchStatsSummary.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\r\nimport { useMatchStatistics } from '@/hooks/useMatchData';\r\n\r\nexport interface FootballMatch {\r\n    id: string | number;\r\n    status: any;\r\n    homeTeam: {\r\n        name: string;\r\n    };\r\n    awayTeam: {\r\n        name: string;\r\n    };\r\n    homeScore?: {\r\n        display: number;\r\n    };\r\n    awayScore?: {\r\n        display: number;\r\n    };\r\n}\r\n\r\ninterface MatchStatsSummaryProps {\r\n    match: FootballMatch | null;\r\n    sport: string;\r\n    eventId: string;\r\n}\r\n\r\ninterface MatchStat {\r\n    label: string;\r\n    homeValue: number | string;\r\n    awayValue: number | string;\r\n    homePercent?: number; // For progress bar (0-100)\r\n}\r\n\r\nexport default function MatchStatsSummary({ match, sport, eventId }: MatchStatsSummaryProps) {\r\n    const { data: statsData, isLoading } = useMatchStatistics(sport, eventId);\r\n\r\n    // DEBUG: Ver qu√© llega de la API\r\n    console.log(`üìä [StatsSummary] Data for ${eventId}:`, statsData);\r\n\r\n    const isLiveOrFinished = match?.status?.type === 'inprogress' || match?.status?.type === 'finished';\r\n    const isScheduled = match?.status?.type === 'notstarted';\r\n\r\n    // Procesa las estad√≠sticas reales de Sofascore\r\n    const realStats = useMemo(() => {\r\n        if (!statsData || !statsData.statistics) return null;\r\n\r\n        // Sofascore puede devolver estad√≠sticas en un objeto { statistics: [...] } \r\n        // o directamente el array dependiendo de c√≥mo hayamos guardado en el proxy.\r\n        const statsArray = Array.isArray(statsData.statistics) ? statsData.statistics :\r\n            (Array.isArray(statsData) ? statsData : null);\r\n\r\n        if (!statsArray) return null;\r\n\r\n        const allPeriodStats = statsArray.find((p: any) => p.period === 'ALL');\r\n        if (!allPeriodStats) return null;\r\n\r\n        const processed: MatchStat[] = [];\r\n\r\n        // Define stats based on sport (insensible a may√∫sculas/min√∫sculas)\r\n        const footballStats = ['ball possession', 'total shots', 'shots on target', 'corner kicks', 'fouls', 'yellow cards', 'red cards'];\r\n        const basketballStats = ['free throws %', '2-pointers %', '3-pointers %', 'rebounds', 'assists', 'turnovers', 'field goals %'];\r\n        const tennisStats = ['aces', 'double faults', 'service games won'];\r\n\r\n        const importantStats = sport === 'basketball' ? basketballStats :\r\n            sport === 'tennis' ? tennisStats :\r\n                footballStats;\r\n\r\n        allPeriodStats.groups.forEach((group: any) => {\r\n            group.statisticsItems.forEach((item: any) => {\r\n                if (importantStats.includes(item.name.toLowerCase())) {\r\n                    const homeVal = parseFloat((item.home || \"0\").toString().replace('%', ''));\r\n                    const awayVal = parseFloat((item.away || \"0\").toString().replace('%', ''));\r\n                    const total = homeVal + awayVal;\r\n\r\n                    processed.push({\r\n                        label: translateStatLabel(item.name),\r\n                        homeValue: item.home,\r\n                        awayValue: item.away,\r\n                        homePercent: total > 0 ? (homeVal / total) * 100 : 50\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        return processed;\r\n    }, [statsData, sport]);\r\n\r\n    // Fallback Mock Stats if No Real Data (Scheduled or API error)\r\n    const mockStats = useMemo(() => {\r\n        if (!match) return [];\r\n        // ... (resto del mockStats queda igual)\r\n\r\n        const homeHash = match.homeTeam.name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n        const awayHash = match.awayTeam.name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\r\n\r\n        if (sport === 'basketball') {\r\n            const winProb = 45 + (homeHash % 15);\r\n            return [\r\n                { label: 'Probabilidad de Victoria', homeValue: `${winProb}%`, awayValue: `${100 - winProb}%`, homePercent: winProb },\r\n                { label: 'Eficiencia de Tiro', homeValue: '48%', awayValue: '45%', homePercent: 52 },\r\n                { label: 'Rebotes Proyectados', homeValue: 42 + (homeHash % 8), awayValue: 40 + (awayHash % 8), homePercent: 50 },\r\n                { label: 'Puntos Promedio (Season)', homeValue: 112 + (homeHash % 10), awayValue: 108 + (awayHash % 10), homePercent: 51 },\r\n            ];\r\n        }\r\n\r\n        // Football Fallback\r\n        const winProb = 35 + (homeHash % 25);\r\n        return [\r\n            { label: 'Probabilidad de Victoria', homeValue: `${winProb}%`, awayValue: `${100 - winProb - 15}%`, homePercent: winProb },\r\n            { label: 'Forma Reciente', homeValue: 'G-E-G', awayValue: 'P-G-E', homePercent: 60 },\r\n            { label: 'Goles Promedio', homeValue: (1.2 + (homeHash % 10) / 10).toFixed(1), awayValue: (1.1 + (awayHash % 10) / 10).toFixed(1), homePercent: 50 },\r\n            { label: 'Posesi√≥n Esperada', homeValue: '52%', awayValue: '48%', homePercent: 52 },\r\n        ];\r\n    }, [match, sport]);\r\n\r\n    if (!match) return null;\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"glass-card p-4 animate-pulse\">\r\n                <div className=\"h-4 bg-white/10 w-24 mb-6 rounded-full\"></div>\r\n                <div className=\"space-y-6\">\r\n                    {[1, 2, 3, 4].map(i => (\r\n                        <div key={i} className=\"space-y-2\">\r\n                            <div className=\"flex justify-between\">\r\n                                <div className=\"h-3 bg-white/5 w-8 rounded\"></div>\r\n                                <div className=\"h-3 bg-white/10 w-24 rounded\"></div>\r\n                                <div className=\"h-3 bg-white/5 w-8 rounded\"></div>\r\n                            </div>\r\n                            <div className=\"h-1.5 bg-white/5 w-full rounded-full\"></div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const statsToDisplay = (realStats && realStats.length > 0) ? realStats : mockStats;\r\n    const title = (realStats && realStats.length > 0) ? \"Estad√≠sticas Reales\" : \"An√°lisis Predictivo\";\r\n\r\n    return (\r\n        <div className=\"glass-card p-4 transition-all duration-500\">\r\n            <div className=\"flex items-center justify-between mb-6 border-b border-white/10 pb-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className=\"w-2 h-2 bg-purple-500 rounded-full animate-pulse\"></span>\r\n                    <h3 className=\"font-black text-[10px] uppercase tracking-widest text-white/60\">{title}</h3>\r\n                </div>\r\n                <span className=\"text-[10px] font-bold text-white/20 uppercase\">{sport}</span>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col gap-6\">\r\n                {statsToDisplay.map((stat, idx) => (\r\n                    <div key={idx} className=\"flex flex-col gap-1 group\">\r\n                        <div className=\"flex justify-between items-center text-[10px] font-black tracking-tighter mb-1\">\r\n                            <span className=\"w-12 text-left text-white\">{stat.homeValue}</span>\r\n                            <span className=\"text-white/40 font-bold uppercase tracking-widest text-center flex-1 truncate px-2\">\r\n                                {stat.label}\r\n                            </span>\r\n                            <span className=\"w-12 text-right text-white\">{stat.awayValue}</span>\r\n                        </div>\r\n\r\n                        <div className=\"flex h-1.5 bg-white/5 rounded-full overflow-hidden p-[1px]\">\r\n                            <div\r\n                                className=\"bg-gradient-to-r from-purple-600 to-blue-500 h-full rounded-full transition-all duration-1000 ease-out\"\r\n                                style={{ width: `${stat.homePercent}%` }}\r\n                            ></div>\r\n                            <div className=\"flex-1\"></div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {isScheduled && !realStats && (\r\n                <div className=\"mt-6 p-3 bg-purple-500/5 rounded-xl border border-purple-500/10 text-[9px] text-center text-white/30 italic\">\r\n                    * Datos basados en el historial de enfrentamientos y forma actual de los equipos.\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction translateStatLabel(label: string): string {\r\n    const normalize = (s: string) => s.toLowerCase().trim();\r\n    const key = normalize(label);\r\n\r\n    const mapping: Record<string, string> = {\r\n        'ball possession': 'Posesi√≥n',\r\n        'total shots': 'Tiros Totales',\r\n        'shots on target': 'Tiros al Arco',\r\n        'shots off target': 'Tiros Desviados',\r\n        'corner kicks': 'C√≥rners',\r\n        'fouls': 'Faltas',\r\n        'yellow cards': 'Tarjetas Amarillas',\r\n        'red cards': 'Tarjetas Rojas',\r\n        'offsides': 'Fueras de Juego',\r\n        'goalkeeper saves': 'Atajadas',\r\n\r\n        // Basketball\r\n        'free throws': 'Tiros Libres',\r\n        'free throws %': 'Tiros Libres %',\r\n        '2 points': 'Tiros de 2',\r\n        '2-pointers': 'Tiros de 2',\r\n        '2-pointers %': 'Tiros de 2 %',\r\n        '3 points': 'Triples',\r\n        '3-pointers': 'Triples',\r\n        '3-pointers %': 'Triples %',\r\n        'field goals': 'Tiros de Campo',\r\n        'field goals %': 'Tiros de Campo %',\r\n        'rebounds': 'Rebotes',\r\n        'assists': 'Asistencias',\r\n        'turnovers': 'P√©rdidas',\r\n        'steals': 'Robos',\r\n        'blocks': 'Bloqueos',\r\n        'personal fouls': 'Faltas Personales',\r\n\r\n        // Tennis\r\n        'aces': 'Aces',\r\n        'double faults': 'Dobles Faltas',\r\n        'service games won': 'Juegos de Saque',\r\n        'break points converted': 'Break Points',\r\n        'winners': 'Tiros Ganadores',\r\n        'unforced errors': 'Errores No Forzados'\r\n    };\r\n\r\n    return mapping[key] || label;\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5063, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/lib/services/commentService.ts"],"sourcesContent":["import { db } from '../firebase';\r\nimport {\r\n    collection,\r\n    addDoc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    onSnapshot,\r\n    serverTimestamp,\r\n    limit,\r\n    Timestamp\r\n} from 'firebase/firestore';\r\n\r\nexport interface Comment {\r\n    id: string;\r\n    matchId: string;\r\n    userId: string;\r\n    displayName: string;\r\n    photoURL?: string;\r\n    content: string;\r\n    role: 'admin' | 'premium' | 'user';\r\n    timestamp: any;\r\n}\r\n\r\nexport const addComment = async (\r\n    matchId: string,\r\n    userId: string,\r\n    displayName: string,\r\n    content: string,\r\n    role: 'admin' | 'premium' | 'user',\r\n    photoURL?: string\r\n) => {\r\n    if (!db) return;\r\n\r\n    await addDoc(collection(db, 'comments'), {\r\n        matchId,\r\n        userId,\r\n        displayName,\r\n        photoURL,\r\n        content,\r\n        role,\r\n        timestamp: serverTimestamp()\r\n    });\r\n};\r\n\r\nexport const subscribeToComments = (matchId: string, callback: (comments: Comment[]) => void) => {\r\n    if (!db) return () => { };\r\n\r\n    const q = query(\r\n        collection(db, 'comments'),\r\n        where('matchId', '==', matchId),\r\n        orderBy('timestamp', 'desc'),\r\n        limit(50)\r\n    );\r\n\r\n    return onSnapshot(q, (snapshot) => {\r\n        const comments = snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data()\r\n        })) as Comment[];\r\n        callback(comments.reverse()); // Show oldest first for chat flow\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAuBO,MAAM,aAAa,OACtB,SACA,QACA,aACA,SACA,MACA;IAEA,IAAI,CAAC,4HAAE,EAAE;IAET,MAAM,IAAA,kLAAM,EAAC,IAAA,sLAAU,EAAC,4HAAE,EAAE,aAAa;QACrC;QACA;QACA;QACA;QACA;QACA;QACA,WAAW,IAAA,2LAAe;IAC9B;AACJ;AAEO,MAAM,sBAAsB,CAAC,SAAiB;IACjD,IAAI,CAAC,4HAAE,EAAE,OAAO,KAAQ;IAExB,MAAM,IAAI,IAAA,iLAAK,EACX,IAAA,sLAAU,EAAC,4HAAE,EAAE,aACf,IAAA,iLAAK,EAAC,WAAW,MAAM,UACvB,IAAA,mLAAO,EAAC,aAAa,SACrB,IAAA,iLAAK,EAAC;IAGV,OAAO,IAAA,sLAAU,EAAC,GAAG,CAAC;QAClB,MAAM,WAAW,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBACvC,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;YACjB,CAAC;QACD,SAAS,SAAS,OAAO,KAAK,kCAAkC;IACpE;AACJ"}},
    {"offset": {"line": 5101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/sports/MatchComments.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { addComment, subscribeToComments, Comment } from '@/lib/services/commentService';\r\nimport { Send, User, Crown, Shield, MessageSquare, Loader2 } from 'lucide-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { es } from 'date-fns/locale';\r\nimport { toast } from 'sonner';\r\n\r\ninterface MatchCommentsProps {\r\n    matchId: string;\r\n}\r\n\r\nexport default function MatchComments({ matchId }: MatchCommentsProps) {\r\n    const { user } = useAuth();\r\n    const [comments, setComments] = useState<Comment[]>([]);\r\n    const [newComment, setNewComment] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [sending, setSending] = useState(false);\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToComments(matchId, (updatedComments) => {\r\n            setComments(updatedComments);\r\n            setLoading(false);\r\n            // Scroll to bottom\r\n            setTimeout(() => {\r\n                if (scrollRef.current) {\r\n                    scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n                }\r\n            }, 100);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [matchId]);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!user) {\r\n            toast.error('Debes iniciar sesi√≥n para comentar');\r\n            return;\r\n        }\r\n        if (!newComment.trim()) return;\r\n\r\n        try {\r\n            setSending(true);\r\n            await addComment(\r\n                matchId,\r\n                user.uid,\r\n                user.displayName || user.email.split('@')[0],\r\n                newComment.trim(),\r\n                user.role === 'admin' ? 'admin' : user.isPremium ? 'premium' : 'user',\r\n                user.photoURL\r\n            );\r\n            setNewComment('');\r\n        } catch (error) {\r\n            console.error('Error adding comment:', error);\r\n            toast.error('Error al enviar el comentario');\r\n        } finally {\r\n            setSending(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden flex flex-col h-[500px]\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-white/10 bg-white/5 flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n                    <MessageSquare className=\"w-5 h-5 text-[var(--primary)]\" />\r\n                    Sala de An√°lisis en Vivo\r\n                </h3>\r\n                <span className=\"text-xs text-gray-400 font-medium\">\r\n                    {comments.length} Comentarios\r\n                </span>\r\n            </div>\r\n\r\n            {/* Comments List */}\r\n            <div\r\n                ref={scrollRef}\r\n                className=\"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent\"\r\n            >\r\n                {loading ? (\r\n                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\r\n                        <Loader2 className=\"w-8 h-8 animate-spin mb-2\" />\r\n                        <p className=\"text-sm\">Invocando el chat...</p>\r\n                    </div>\r\n                ) : comments.length === 0 ? (\r\n                    <div className=\"flex flex-col items-center justify-center h-full text-gray-500 text-center px-6\">\r\n                        <div className=\"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4\">\r\n                            <MessageSquare className=\"w-8 h-8 opacity-20\" />\r\n                        </div>\r\n                        <p className=\"text-sm font-medium\">¬°Nadie ha comentado a√∫n!</p>\r\n                        <p className=\"text-xs opacity-60\">S√© el primero en compartir tu veredicto.</p>\r\n                    </div>\r\n                ) : (\r\n                    comments.map((comment) => (\r\n                        <div key={comment.id} className=\"flex gap-3 group animate-in fade-in slide-in-from-bottom-2 duration-300\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-white/10 flex-shrink-0 flex items-center justify-center overflow-hidden border border-white/5\">\r\n                                {comment.photoURL ? (\r\n                                    <img src={comment.photoURL} alt={comment.displayName} className=\"w-full h-full object-cover\" />\r\n                                ) : (\r\n                                    <User className=\"w-5 h-5 text-gray-500\" />\r\n                                )}\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                                <div className=\"flex items-center gap-2 mb-1\">\r\n                                    <span className=\"text-sm font-bold text-white truncate\">\r\n                                        {comment.displayName}\r\n                                    </span>\r\n                                    {comment.role === 'admin' && (\r\n                                        <span className=\"text-[10px] bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded flex items-center gap-1 font-bold\">\r\n                                            <Shield className=\"w-2.5 h-2.5\" /> STAFF\r\n                                        </span>\r\n                                    )}\r\n                                    {comment.role === 'premium' && (\r\n                                        <span className=\"text-[10px] bg-yellow-500/20 text-yellow-500 px-1.5 py-0.5 rounded flex items-center gap-1 font-bold\">\r\n                                            <Crown className=\"w-2.5 h-2.5\" /> PRO\r\n                                        </span>\r\n                                    )}\r\n                                    <span className=\"text-[10px] text-gray-500\">\r\n                                        {comment.timestamp ? formatDistanceToNow(comment.timestamp.toDate(), { addSuffix: true, locale: es }) : 'ahora'}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"bg-white/5 p-3 rounded-2xl rounded-tl-none border border-white/5\">\r\n                                    <p className=\"text-sm text-gray-200 leading-relaxed break-words\">\r\n                                        {comment.content}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Input Footer */}\r\n            <div className=\"p-4 bg-white/5 border-t border-white/10\">\r\n                {user ? (\r\n                    <form onSubmit={handleSubmit} className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={newComment}\r\n                            onChange={(e) => setNewComment(e.target.value)}\r\n                            placeholder=\"Escribe tu an√°lisis...\"\r\n                            className=\"flex-1 bg-white/10 border border-white/10 rounded-full px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary)] transition-all\"\r\n                            maxLength={500}\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={sending || !newComment.trim()}\r\n                            className=\"w-10 h-10 bg-[var(--primary)] text-white rounded-full flex items-center justify-center hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:hover:scale-100\"\r\n                        >\r\n                            {sending ? (\r\n                                <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                            ) : (\r\n                                <Send className=\"w-5 h-5 ml-0.5\" />\r\n                            )}\r\n                        </button>\r\n                    </form>\r\n                ) : (\r\n                    <div className=\"text-center py-2\">\r\n                        <p className=\"text-xs text-gray-400\">\r\n                            Ingresa para participar en la conversaci√≥n.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Daniel/PickGenius/web/components/sports/MatchLiveView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useMatchDetails, useMatchBestPlayers, useMatchMomentum } from '@/hooks/useMatchData';\r\nimport SkeletonLoader from '@/components/ui/SkeletonLoader';\r\nimport AIPredictionCard from '@/components/ai/AIPredictionCard';\r\nimport ErrorBoundary from '@/components/ui/ErrorBoundary';\r\nimport TopPlayersCard from '@/components/sports/TopPlayersCard';\r\nimport TeamLogo from '@/components/ui/TeamLogo';\r\nimport UniversalPlayerPropModal from '@/components/sports/UniversalPlayerPropModal';\r\nimport MatchStatsSummary from '@/components/sports/MatchStatsSummary';\r\nimport { toast } from 'sonner';\r\nimport { ResponsiveContainer, AreaChart, Area } from 'recharts';\r\nimport { Zap, Bell, ShieldCheck } from 'lucide-react';\r\nimport { API_URL } from '@/lib/api';\r\nimport MatchComments from '@/components/sports/MatchComments';\r\n\r\ninterface MatchLiveViewProps {\r\n    sport: string;\r\n    eventId: string;\r\n}\r\n\r\nexport default function MatchLiveView({ sport, eventId }: MatchLiveViewProps) {\r\n    const router = useRouter();\r\n    const [selectedPlayer, setSelectedPlayer] = useState<any>(null);\r\n    const [isAlertsEnabled, setIsAlertsEnabled] = useState(false);\r\n    const [now, setNow] = useState<number>(() => Math.floor(Date.now() / 1000));\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setNow(Math.floor(Date.now() / 1000));\r\n        }, 30000); // 30s update\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n    const { data: game, isLoading: gameLoading, error: gameError } = useMatchDetails(sport, eventId);\r\n    const { data: bestPlayers, isLoading: playersLoading } = useMatchBestPlayers(sport, eventId);\r\n    const { data: momentumData } = useMatchMomentum(sport, eventId);\r\n\r\n    // Process real momentum data\r\n    const chartData = React.useMemo(() => {\r\n        if (!momentumData?.items) {\r\n            return Array.from({ length: 40 }, (_, i) => ({\r\n                minute: i,\r\n                homeValue: 0,\r\n                awayValue: 0\r\n            }));\r\n        }\r\n\r\n        return momentumData.items.map((item: any) => ({\r\n            minute: item.minute,\r\n            homeValue: item.value > 0 ? item.value : 0,\r\n            awayValue: item.value < 0 ? Math.abs(item.value) : 0\r\n        }));\r\n    }, [momentumData]);\r\n\r\n    // Calculate danger levels based on last 5 minutes\r\n    const dangerLevels = React.useMemo(() => {\r\n        if (!momentumData?.items || momentumData.items.length === 0) return { home: 'BAJO', away: 'BAJO' };\r\n\r\n        const lastPoints = momentumData.items.slice(-5);\r\n        const homeAvg = lastPoints.reduce((acc: number, curr: any) => acc + (curr.value > 0 ? curr.value : 0), 0) / Math.max(1, lastPoints.length);\r\n        const awayAvg = lastPoints.reduce((acc: number, curr: any) => acc + (curr.value < 0 ? Math.abs(curr.value) : 0), 0) / Math.max(1, lastPoints.length);\r\n\r\n        const getLevel = (avg: number) => {\r\n            if (avg > 40) return 'CR√çTICO';\r\n            if (avg > 25) return 'ALTO';\r\n            if (avg > 10) return 'MODERADO';\r\n            return 'BAJO';\r\n        };\r\n\r\n        return {\r\n            home: getLevel(homeAvg),\r\n            away: getLevel(awayAvg)\r\n        };\r\n    }, [momentumData]);\r\n\r\n    // Derived state\r\n    const loading = gameLoading;\r\n    const isLive = game?.status?.type === 'inprogress';\r\n\r\n    useEffect(() => {\r\n        if (isLive && game) {\r\n            toast('ü§ñ An√°lisis en Vivo Activado', {\r\n                description: `PickGenius AI est√° monitoreando el ${game.homeTeam.name} vs ${game.awayTeam.name} en tiempo real.`,\r\n                icon: '‚ö°',\r\n                duration: 5000,\r\n            });\r\n        }\r\n    }, [isLive, game?.id]);\r\n\r\n    // SMART ALERTS: Monitor Danger Levels\r\n    useEffect(() => {\r\n        if (!isAlertsEnabled || !game) return;\r\n\r\n        if (dangerLevels.home === 'CR√çTICO') {\r\n            toast('üî• PELIGRO LOCAL CR√çTICO', {\r\n                description: `${game.homeTeam.name} est√° bajo presi√≥n m√°xima de gol.`,\r\n                icon: '‚öΩ',\r\n                duration: 8000\r\n            });\r\n            // Try to use browser notification if permission granted\r\n            if ('Notification' in window && Notification.permission === 'granted') {\r\n                new Notification(`¬°ALERTA DE GOL! - ${game.homeTeam.name}`, {\r\n                    body: 'Presi√≥n cr√≠tica detectada por la IA.',\r\n                    icon: '/logo.png'\r\n                });\r\n            }\r\n        }\r\n        if (dangerLevels.away === 'CR√çTICO') {\r\n            toast('üî• PELIGRO VISITANTE CR√çTICO', {\r\n                description: `${game.awayTeam.name} est√° bajo presi√≥n m√°xima de gol.`,\r\n                icon: '‚öΩ',\r\n                duration: 8000\r\n            });\r\n            if ('Notification' in window && Notification.permission === 'granted') {\r\n                new Notification(`¬°ALERTA DE GOL! - ${game.awayTeam.name}`, {\r\n                    body: 'Presi√≥n cr√≠tica detectada por la IA.',\r\n                    icon: '/logo.png'\r\n                });\r\n            }\r\n        }\r\n    }, [dangerLevels.home, dangerLevels.away, isAlertsEnabled, game]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#0b0b0b] pb-20\">\r\n                <div className=\"container pt-24\">\r\n                    <SkeletonLoader />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!game) {\r\n        return (\r\n            <div className=\"min-h-screen bg-[#0b0b0b] pb-20 flex items-center justify-center text-center px-4\">\r\n                <div className=\"glass-card p-10 max-w-md w-full border border-red-500/20\">\r\n                    <div className=\"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                        <span className=\"text-3xl text-red-500\">‚ö†Ô∏è</span>\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-black text-white italic mb-2\">PARTIDO NO ENCONTRADO</h2>\r\n                    <p className=\"text-gray-400 text-sm mb-8 leading-relaxed\">\r\n                        No pudimos conectar con los terminales de Sofascore para este ID: <span className=\"text-red-400 font-mono\">{eventId}</span>.\r\n                        {gameError && (\r\n                            <span className=\"block mt-2 p-2 bg-red-500/10 rounded text-[10px] text-red-300 font-mono\">\r\n                                ERROR: {(gameError as any).message || 'Unknown source error'}\r\n                            </span>\r\n                        )}\r\n                    </p>\r\n                    <button\r\n                        onClick={() => router.back()}\r\n                        className=\"w-full py-4 bg-white text-black font-black uppercase tracking-widest rounded-xl hover:bg-gray-200 transition-all active:scale-95\"\r\n                    >\r\n                        Volver al Panel\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#0b0b0b] pb-20\">\r\n            <div className=\"container pt-24 md:pt-28\">\r\n\r\n                {/* Tournament Info & Flag */}\r\n                <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n                    {game.tournament?.category?.id && (\r\n                        <img\r\n                            src={`${API_URL}/api/proxy/category-image/${game.tournament.category.id}`}\r\n                            alt={game.tournament.category.name}\r\n                            className=\"w-6 h-4 object-cover rounded-sm shadow-sm\"\r\n                            onError={(e) => {\r\n                                (e.target as HTMLImageElement).style.display = 'none';\r\n                            }}\r\n                        />\r\n                    )}\r\n                    <h1 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-gray-400\">\r\n                        {game.tournament?.name}\r\n                    </h1>\r\n                </div>\r\n\r\n                {/* Header / Scoreboard */}\r\n                <div className=\"glass-card p-6 mb-6\">\r\n                    <div className=\"flex justify-between items-center text-center\">\r\n                        <div className=\"flex-1 flex flex-col items-center gap-3\">\r\n                            <TeamLogo teamId={game.homeTeam.id} teamName={game.homeTeam.name} size=\"xl\" />\r\n                            <div>\r\n                                <h2 className=\"text-xl md:text-3xl font-bold mb-2\">{game.homeTeam.name}</h2>\r\n                                <div className=\"text-4xl md:text-6xl font-black font-mono tracking-tighter\">\r\n                                    {(game.homeScore?.current !== undefined ? game.homeScore.current :\r\n                                        game.homeScore?.display !== undefined ? game.homeScore.display :\r\n                                            (game.status?.type === 'notstarted' ? '-' : 0))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"px-4\">\r\n                            <div className={`text-xs font-black uppercase tracking-widest mb-1 ${isLive ? 'text-red-500 animate-pulse' : 'text-gray-500'}`}>\r\n                                {isLive ? (() => {\r\n                                    if (game.status?.description?.includes(\"'\") || game.status?.description?.includes(\":\")) {\r\n                                        return game.status.description;\r\n                                    }\r\n                                    if (sport === 'football' && game.time?.currentPeriodStartTimestamp && now > 0) {\r\n                                        const elapsed = Math.floor((now - game.time.currentPeriodStartTimestamp) / 60);\r\n                                        const offset = (game.status?.description?.toLowerCase().includes('2nd') || game.status?.description?.toLowerCase().includes('2a')) ? 45 : 0;\r\n                                        return `${elapsed + offset}'`;\r\n                                    }\r\n                                    return game.status?.description || 'EN VIVO';\r\n                                })() : game.status?.description || 'PROGRAMADO'}\r\n                            </div>\r\n                            {isLive && (\r\n                                <div className=\"text-[8px] font-black text-red-500/40 tracking-[0.3em] uppercase mb-2\">LIVE MONITORING</div>\r\n                            )}\r\n                            <div className=\"text-[10px] text-gray-500 font-bold\">\r\n                                {new Date(game.startTimestamp * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex-1 flex flex-col items-center gap-3\">\r\n                            <TeamLogo teamId={game.awayTeam.id} teamName={game.awayTeam.name} size=\"xl\" />\r\n                            <div>\r\n                                <h2 className=\"text-xl md:text-3xl font-bold mb-2\">{game.awayTeam.name}</h2>\r\n                                <div className=\"text-4xl md:text-6xl font-black font-mono tracking-tighter\">\r\n                                    {(game.awayScore?.current !== undefined ? game.awayScore.current :\r\n                                        game.awayScore?.display !== undefined ? game.awayScore.display :\r\n                                            (game.status?.type === 'notstarted' ? '-' : 0))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 3-Column Layout */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-12 gap-6 w-full items-start\">\r\n\r\n                    {/* Left Column: Home Details & Players (3 cols) */}\r\n                    <div className=\"md:col-span-3 order-2 md:order-1 space-y-4\">\r\n                        <ErrorBoundary>\r\n                            <TopPlayersCard\r\n                                title=\"TOP JUGADORES LOCAL\"\r\n                                players={bestPlayers?.allPlayers?.home || []}\r\n                                sport={sport}\r\n                                teamColor=\"purple\"\r\n                                onPlayerClick={setSelectedPlayer}\r\n                            />\r\n                        </ErrorBoundary>\r\n\r\n                        <ErrorBoundary>\r\n                            <MatchStatsSummary match={game} sport={sport} eventId={eventId} />\r\n                        </ErrorBoundary>\r\n                    </div>\r\n\r\n                    {/* Center Column: AI Oracle Dashboard (6 cols) */}\r\n                    <div className=\"md:col-span-6 order-1 md:order-2 space-y-4\">\r\n                        <ErrorBoundary>\r\n                            <AIPredictionCard\r\n                                sport={sport}\r\n                                eventId={eventId}\r\n                                homeTeam={game?.homeTeam?.name}\r\n                                awayTeam={game?.awayTeam?.name}\r\n                            />\r\n                        </ErrorBoundary>\r\n\r\n                        {/* LIVE MOMENTUM TRACKER - Brutal Visual */}\r\n                        <div className=\"glass-card p-6 border border-white/5 bg-white/[0.02] rounded-[2rem] relative overflow-hidden group\">\r\n                            <div className=\"flex items-center justify-between mb-6\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-2 h-6 bg-emerald-500 rounded-full animate-pulse\"></div>\r\n                                    <h3 className=\"text-sm font-black italic uppercase tracking-widest text-white\">Live Attack Momentum</h3>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            const newState = !isAlertsEnabled;\r\n                                            setIsAlertsEnabled(newState);\r\n                                            toast(newState ? 'üîî Alertas Activadas' : 'üîï Alertas Desactivadas', {\r\n                                                description: newState ? 'Te avisaremos cuando el peligro sea Cr√≠tico.' : 'No recibir√°s notificaciones t√°cticas.'\r\n                                            });\r\n                                        }}\r\n                                        className={`p-2 rounded-xl border transition-all ${isAlertsEnabled ? 'bg-emerald-500/10 border-emerald-500/30 text-emerald-400' : 'bg-white/5 border-white/5 text-gray-500'}`}\r\n                                        title={isAlertsEnabled ? 'Desactivar Alertas' : 'Activar Alertas de Gol'}\r\n                                    >\r\n                                        <Bell className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                    <span className=\"text-[8px] font-black uppercase tracking-widest text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full\">Real-Time</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"h-[120px] w-full relative\">\r\n                                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                                    <AreaChart data={chartData}>\r\n                                        <defs>\r\n                                            <linearGradient id=\"colorHome\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                                <stop offset=\"5%\" stopColor=\"#a855f7\" stopOpacity={0.4} />\r\n                                                <stop offset=\"95%\" stopColor=\"#a855f7\" stopOpacity={0} />\r\n                                            </linearGradient>\r\n                                            <linearGradient id=\"colorAway\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                                <stop offset=\"5%\" stopColor=\"#f97316\" stopOpacity={0.4} />\r\n                                                <stop offset=\"95%\" stopColor=\"#f97316\" stopOpacity={0} />\r\n                                            </linearGradient>\r\n                                        </defs>\r\n                                        <Area\r\n                                            type=\"monotone\"\r\n                                            dataKey=\"homeValue\"\r\n                                            stroke=\"#a855f7\"\r\n                                            strokeWidth={2}\r\n                                            fillOpacity={1}\r\n                                            fill=\"url(#colorHome)\"\r\n                                            animationDuration={1000}\r\n                                        />\r\n                                        <Area\r\n                                            type=\"monotone\"\r\n                                            dataKey=\"awayValue\"\r\n                                            stroke=\"#f97316\"\r\n                                            strokeWidth={2}\r\n                                            fillOpacity={1}\r\n                                            fill=\"url(#colorAway)\"\r\n                                            animationDuration={1000}\r\n                                            style={{ transform: 'scaleY(-1)', transformOrigin: 'center' }}\r\n                                        />\r\n                                    </AreaChart>\r\n                                </ResponsiveContainer>\r\n\r\n                                {/* Center Line */}\r\n                                <div className=\"absolute top-1/2 left-0 w-full h-px bg-white/10 border-t border-dashed border-white/5 pointer-events-none\"></div>\r\n\r\n                                {/* Labels */}\r\n                                <div className=\"absolute inset-0 flex flex-col justify-between py-2 pointer-events-none\">\r\n                                    <div className=\"flex justify-between items-center px-4\">\r\n                                        <span className=\"text-[7px] font-black text-purple-500/40 uppercase tracking-[0.2em]\">{game.homeTeam.name} Pressing</span>\r\n                                        <span className=\"text-[7px] font-black text-orange-500/40 uppercase tracking-[0.2em]\">{game.awayTeam.name} Pressing</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* GENIUS TACTICAL INSIGHT */}\r\n                            <div className=\"mt-4 p-4 bg-gradient-to-br from-indigo-500/10 to-purple-500/5 rounded-2xl border border-white/5 relative overflow-hidden group\">\r\n                                <div className=\"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity\">\r\n                                    <Zap className=\"w-8 h-8 text-purple-400\" />\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                    <span className=\"text-[8px] font-black text-purple-400 uppercase tracking-[0.2em]\">Genius Insights</span>\r\n                                    <span className=\"w-1 h-1 bg-gray-600 rounded-full\"></span>\r\n                                    <span className=\"text-[8px] font-bold text-gray-500 uppercase italic\">An√°lisis T√°ctico</span>\r\n                                </div>\r\n                                <p className=\"text-[10px] font-bold text-gray-300 leading-relaxed italic\">\r\n                                    {dangerLevels.home === 'CR√çTICO' ? (\r\n                                        <span className=\"text-purple-400 font-black animate-pulse\">‚ö†Ô∏è PRESI√ìN ASFIXIANTE: {game.homeTeam.name} est√° volcando el campo. El gol local tiene alta probabilidad en los pr√≥ximos minutos.</span>\r\n                                    ) : dangerLevels.away === 'CR√çTICO' ? (\r\n                                        <span className=\"text-orange-400 font-black animate-pulse\">‚ö†Ô∏è ALERTA DE CONTRA: {game.awayTeam.name} est√° dominando el volumen de ataque. Cuidado con la defensa local.</span>\r\n                                    ) : dangerLevels.home === 'ALTO' ? (\r\n                                        `Dominio posicional de ${game.homeTeam.name}. Buscando espacios en zona de finalizaci√≥n.`\r\n                                    ) : dangerLevels.away === 'ALTO' ? (\r\n                                        `Iniciativa visitante detectada. ${game.awayTeam.name} controla el ritmo del encuentro.`\r\n                                    ) : (\r\n                                        \"Fase de estudio y equilibrio t√°ctico. Los equipos mantienen sus l√≠neas compactas.\"\r\n                                    )}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"mt-4 grid grid-cols-2 gap-4\">\r\n                                <div className={`text-center p-3 rounded-2xl border transition-all ${dangerLevels.home === 'CR√çTICO' || dangerLevels.home === 'ALTO' ? 'bg-purple-500/10 border-purple-500/20' : 'bg-white/5 border-white/5'}`}>\r\n                                    <div className=\"text-[8px] font-black text-gray-500 uppercase mb-1\">Peligro Local</div>\r\n                                    <div className={`text-lg font-black italic ${dangerLevels.home === 'CR√çTICO' ? 'text-purple-400 animate-pulse' : 'text-purple-400'}`}>\r\n                                        {dangerLevels.home}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={`text-center p-3 rounded-2xl border transition-all ${dangerLevels.away === 'CR√çTICO' || dangerLevels.away === 'ALTO' ? 'bg-orange-500/10 border-orange-500/20' : 'bg-white/5 border-white/5'}`}>\r\n                                    <div className=\"text-[8px] font-black text-gray-500 uppercase mb-1\">Peligro Visitante</div>\r\n                                    <div className={`text-lg font-black italic ${dangerLevels.away === 'CR√çTICO' ? 'text-orange-400 animate-pulse' : 'text-orange-400'}`}>\r\n                                        {dangerLevels.away}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Period Detail (Generic) */}\r\n                        <div className=\"glass-card p-6 border border-white/5 bg-white/[0.02] rounded-3xl\">\r\n                            <h3 className=\"text-[10px] font-black uppercase mb-6 border-b border-white/5 pb-3 tracking-widest text-gray-500\">Desglose de Periodos</h3>\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex justify-between items-center bg-black/40 p-4 rounded-2xl border border-white/5 group hover:border-purple-500/30 transition-all\">\r\n                                    <span className=\"font-black text-xs text-gray-300 uppercase italic tracking-tighter\">{game.homeTeam.name}</span>\r\n                                    <div className=\"flex gap-4 font-mono text-lg font-black text-white\">\r\n                                        {game.homeScore?.period1 !== undefined && <span className=\"opacity-40\">{game.homeScore.period1}</span>}\r\n                                        {game.homeScore?.period2 !== undefined && <span className=\"opacity-40\">{game.homeScore.period2}</span>}\r\n                                        {game.homeScore?.period3 !== undefined && <span className=\"opacity-40\">{game.homeScore.period3}</span>}\r\n                                        {game.homeScore?.period4 !== undefined && <span className=\"text-purple-400 drop-shadow-[0_0_10px_rgba(168,85,247,0.4)]\">{game.homeScore.period4}</span>}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center bg-black/40 p-4 rounded-2xl border border-white/5 group hover:border-orange-500/30 transition-all\">\r\n                                    <span className=\"font-black text-xs text-gray-300 uppercase italic tracking-tighter\">{game.awayTeam.name}</span>\r\n                                    <div className=\"flex gap-4 font-mono text-lg font-black text-white\">\r\n                                        {game.awayScore?.period1 !== undefined && <span className=\"opacity-40\">{game.awayScore.period1}</span>}\r\n                                        {game.awayScore?.period2 !== undefined && <span className=\"opacity-40\">{game.awayScore.period2}</span>}\r\n                                        {game.awayScore?.period3 !== undefined && <span className=\"opacity-40\">{game.awayScore.period3}</span>}\r\n                                        {game.awayScore?.period4 !== undefined && <span className=\"text-orange-400 drop-shadow-[0_0_10px_rgba(251,146,60,0.4)]\">{game.awayScore.period4}</span>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <ErrorBoundary>\r\n                            <MatchComments matchId={eventId} />\r\n                        </ErrorBoundary>\r\n                    </div>\r\n\r\n                    {/* Right Column: Away Details & MVP (3 cols) */}\r\n                    <div className=\"md:col-span-3 order-3 md:order-3 space-y-4\">\r\n                        {/* MVP Spotlight Moved Here */}\r\n                        {bestPlayers?.mvp && (\r\n                            <div className=\"glass-card overflow-hidden relative group\">\r\n                                <div className=\"absolute top-0 right-0 bg-yellow-500 text-black text-[10px] font-black px-3 py-1 rounded-bl-lg z-10\">MVP</div>\r\n                                <div className=\"p-4 flex flex-col gap-4\">\r\n                                    <div className=\"aspect-square w-full rounded-2xl bg-gradient-to-br from-yellow-500/20 to-amber-500/10 border border-yellow-500/30 relative overflow-hidden\">\r\n                                        <img\r\n                                            src={`${API_URL}/api/proxy/player-image/${bestPlayers.mvp.id || bestPlayers.mvp.player?.id}`}\r\n                                            alt={bestPlayers.mvp.name}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-yellow-500 text-[10px] font-black uppercase tracking-widest\">{bestPlayers.ai?.title || 'DOMINIO'}</p>\r\n                                        <h3 className=\"text-xl font-black text-white italic tracking-tighter mb-1\">{bestPlayers.mvp.name}</h3>\r\n                                        <p className=\"text-gray-400 text-[10px] leading-relaxed\">{bestPlayers.ai?.description || 'Rendimiento superior esta jornada.'}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <ErrorBoundary>\r\n                            <TopPlayersCard\r\n                                title=\"TOP JUGADORES VISITANTE\"\r\n                                players={bestPlayers?.allPlayers?.away || []}\r\n                                sport={sport}\r\n                                teamColor=\"orange\"\r\n                                onPlayerClick={setSelectedPlayer}\r\n                            />\r\n                        </ErrorBoundary>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n            {selectedPlayer && (\r\n                <UniversalPlayerPropModal\r\n                    isOpen={!!selectedPlayer}\r\n                    onClose={() => setSelectedPlayer(null)}\r\n                    player={selectedPlayer}\r\n                    sport={sport as any}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}